
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all_nosearch.js"></script>
    <link href="images/favicon.ico" rel="icon" type="image/ico" />
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#beyond-pay-gateway" class="toc-h1 toc-link" data-title="Beyond Pay Gateway">Beyond Pay Gateway</a>
          </li>
          <li>
            <a href="#online-payments" class="toc-h1 toc-link" data-title="Online Payments">Online Payments</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#getting-started" class="toc-h2 toc-link" data-title="Getting Started">Getting Started</a>
                  </li>
                  <li>
                    <a href="#create-a-payment-form" class="toc-h2 toc-link" data-title="Create a Payment Form">Create a Payment Form</a>
                  </li>
                  <li>
                    <a href="#obtain-a-single-use-token" class="toc-h2 toc-link" data-title="Obtain a Single-Use Token">Obtain a Single-Use Token</a>
                  </li>
                  <li>
                    <a href="#submit-a-sale-using-the-single-use-token" class="toc-h2 toc-link" data-title="Submit a Sale using the Single-Use Token">Submit a Sale using the Single-Use Token</a>
                  </li>
                  <li>
                    <a href="#perform-an-quot-auth-only-quot-or-quot-pre-auth-quot" class="toc-h2 toc-link" data-title="Perform an "Auth-Only" or "Pre-Auth"">Perform an "Auth-Only" or "Pre-Auth"</a>
                  </li>
                  <li>
                    <a href="#tokenization-and-repeat-sales-from-cards-on-file" class="toc-h2 toc-link" data-title="Tokenization and Repeat Sales from Cards-on-File">Tokenization and Repeat Sales from Cards-on-File</a>
                  </li>
                  <li>
                    <a href="#refunds-and-voids" class="toc-h2 toc-link" data-title="Refunds and Voids">Refunds and Voids</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#in-person-payments" class="toc-h1 toc-link" data-title="In-Person Payments">In-Person Payments</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#payguardian" class="toc-h2 toc-link" data-title="PayGuardian">PayGuardian</a>
                  </li>
                  <li>
                    <a href="#payguardian-desktop" class="toc-h2 toc-link" data-title="PayGuardian Desktop">PayGuardian Desktop</a>
                  </li>
                  <li>
                    <a href="#payguardian-ios-sdk" class="toc-h2 toc-link" data-title="PayGuardian iOS SDK">PayGuardian iOS SDK</a>
                  </li>
                  <li>
                    <a href="#payguardian-android-sdk" class="toc-h2 toc-link" data-title="PayGuardian Android SDK">PayGuardian Android SDK</a>
                  </li>
                  <li>
                    <a href="#payguardian-cloud" class="toc-h2 toc-link" data-title="PayGuardian Cloud">PayGuardian Cloud</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#transaction-reporting" class="toc-h1 toc-link" data-title="Transaction Reporting">Transaction Reporting</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#transactionrowfilter" class="toc-h2 toc-link" data-title="TransactionRowFilter">TransactionRowFilter</a>
                  </li>
                  <li>
                    <a href="#transactionset" class="toc-h2 toc-link" data-title="TransactionSet">TransactionSet</a>
                  </li>
                  <li>
                    <a href="#transactionrow" class="toc-h2 toc-link" data-title="TransactionRow">TransactionRow</a>
                  </li>
                  <li>
                    <a href="#operation-contract" class="toc-h2 toc-link" data-title="Operation Contract">Operation Contract</a>
                  </li>
                  <li>
                    <a href="#reporting-tips" class="toc-h2 toc-link" data-title="Reporting Tips">Reporting Tips</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#response-codes" class="toc-h1 toc-link" data-title="Response Codes">Response Codes</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#avs-response-codes" class="toc-h2 toc-link" data-title="AVS Response Codes">AVS Response Codes</a>
                  </li>
                  <li>
                    <a href="#cvv-response-codes" class="toc-h2 toc-link" data-title="CVV Response Codes">CVV Response Codes</a>
                  </li>
                  <li>
                    <a href="#gateway-message-codes" class="toc-h2 toc-link" data-title="Gateway Message Codes">Gateway Message Codes</a>
                  </li>
                  <li>
                    <a href="#gateway-result-codes" class="toc-h2 toc-link" data-title="Gateway Result Codes">Gateway Result Codes</a>
                  </li>
                  <li>
                    <a href="#payguardian-response-codes" class="toc-h2 toc-link" data-title="PayGuardian Response Codes">PayGuardian Response Codes</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#testing-amp-certification" class="toc-h1 toc-link" data-title="Testing &amp; Certification">Testing &amp; Certification</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#certification" class="toc-h2 toc-link" data-title="Certification">Certification</a>
                  </li>
                  <li>
                    <a href="#test-cards-and-checks" class="toc-h2 toc-link" data-title="Test Cards and Checks">Test Cards and Checks</a>
                  </li>
                  <li>
                    <a href="#trigger-amounts" class="toc-h2 toc-link" data-title="Trigger Amounts">Trigger Amounts</a>
                  </li>
              </ul>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='beyond-pay-gateway'>Beyond Pay Gateway</h1>
<blockquote>
<p><a href='https://forms.gle/AMxdRZTsS6skq2DEA'>Get your API keys</a> and get coding!</p>

<p>Contact us if you have questions or need any help! <a href='mailto:BeyondPayIntegrations@getbeyond.com'>BeyondPayIntegrations@getbeyond.com</a></p>
</blockquote>

<p>Welcome to the Beyond Pay Gateway API! Beyond Pay is a powerful payment gateway that enables you to securely accept many different payment types. Plus, by processing through Beyond Pay, you support <a href="https://www.giveback.ngo/">the philanthropic cause at the heart of Beyond&#39;s mission</a>!</p>

<p>The primary integration options offered by the Beyond Pay platform include:</p>

<ul>
<li><strong>Beyond Pay API</strong> - a set of robust web service APIs offering support for credit cards, ACH/checks, tokenization, and more</li>
<li><strong>TokenPay.js</strong> – is an extension of Beyond Pay that combines client-side and server-side technologies for PCI-compliant online payment capture</li>
<li><strong>PayGuardian</strong> – a middleware application and SDK that integrates seamlessly into Point of Sale (POS) software, removing it from the scope of PCI PA-DSS and enabling easy EMV/chip card support</li>
</ul>
<h1 id='online-payments'>Online Payments</h1><h2 id='getting-started'>Getting Started</h2>
<blockquote>
<p>To get started, include these scripts on your checkout page:</p>
</blockquote>
<pre class="highlight html tab-html"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span> 
<span class="nt">&lt;script
  </span><span class="na">src=</span><span class="s">"https://api-test.getbeyondpay.com/Bridgepay.WebSecurity/TokenPay/js/tokenPay.js"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre>
<blockquote>
<p>Next, create an instance of TokenPay:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">tokenpay</span> <span class="o">=</span> <span class="nx">TokenPay</span><span class="p">(</span><span class="s1">'your-public-key'</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>Replace <code>your-public-key</code> with your publishable <a href='https://forms.gle/AMxdRZTsS6skq2DEA'>public key</a>.</p>
</blockquote>

<p>TokenPay maximizes the user experience by allowing for the capture of sensitive card data within the payment form of the merchant’s website or mobile application. The consumer remains on the merchant’s payment page at all times during the checkout process.</p>

<p>TokenPay is an integration interface for Beyond Pay Gateway which facilitates online card payments in a manner that ensures that no sensitive card data ever touches your servers so your integration can operate with minimized scope of PCI.</p>

<p>To ensure that merchants are eligible for the simplest PCI validation method, Self-Assessment Questionnaire A (SAQ-A), TokenPay utilizes</p>

<ul>
<li><strong>Isolation</strong> – Beyond Pay Gateway hosts the sensitive cardholder data input fields. The fields are injected into your form as an HTML iframe thus isolating your page and your server from card sensitive data.</li>
<li><strong>Tokenization</strong> – in order to execute transactions against the user’s card, TokenPay replaces the sensitive cardholder data with a non-sensitive surrogate value (token). The token is generated via the use of the TokenPay JavaScript library and your payment form.</li>
<li><strong>Segregation</strong> – Requests for charges against the user’s card are made server-to-server – not in the browser or mobile app where it is publicly visible. The tokenized card data is submitted to your server where a secure server-to-server request is made to execute the transaction.</li>
<li><strong>Authentication</strong> – The injection of the TokenPay hosted input fields and card tokenization is authenticated via a public key assigned to the merchant. API requests to execute charges against the tokenized card are made by the backend server and are authenticated with a private key assigned to the merchant.</li>
</ul>
<h3 id='tokenpay-js'>TokenPay.js</h3>
<blockquote>
<p><b>Sandbox Script (Testing):</b></p>
</blockquote>
<pre class="highlight html tab-html"><code>https://api-test.getbeyondpay.com/Bridgepay.WebSecurity/TokenPay/js/tokenPay.js
</code></pre>
<blockquote>
<p><b>Live Script (Production):</b></p>
</blockquote>
<pre class="highlight html tab-html"><code>https://api.getbeyondpay.com/WebSecurity/TokenPay/js/tokenPay.js
</code></pre>
<p>TokenPay.js is the JavaScript library for building online or mobile browser checkout flows with Beyond Pay Gateway. With it, you can collect sensitive data from the cardholder and create tokens for securely sending the data to your webserver.</p>

<p>TokenPay.js provides a ready-made UI component for collecting the sensitive card data from the user. TokenPay.js then tokenizes the information without it ever having to touch your server.</p>

<p>The TokenPay.js UI component includes:</p>

<ul>
<li>Automatic formatting of card information as it is entered</li>
<li>Validation of card information as it is entered</li>
<li>Responsive design that works on user’s screen or mobile device</li>
<li>Customizable styling to match your website&#39;s look and feel</li>
</ul>
<h3 id='https-requirements'>HTTPS Requirements</h3>
<p>All submission of payment information using TokenPay.js is made via a secure HTTPS connection. However, to protect yourself from man-in-the-middle attacks and to prevent your users from experiencing mixed content warnings in their browser, you <b>MUST</b> serve the page with your payment form over HTTPS.</p>

<aside class="notice">
You must replace <code>your-public-key</code> with your publishable <a href='https://forms.gle/AMxdRZTsS6skq2DEA'>public API key</a>.
</aside>
<h2 id='create-a-payment-form'>Create a Payment Form</h2>
<blockquote>
<p>To determine where to insert the UI components, create empty DOM elements with unique IDs within your payment form.</p>
</blockquote>
<pre class="highlight html tab-html"><code><span class="nt">&lt;form</span> <span class="na">id=</span><span class="s">"paymentForm"</span> <span class="na">action=</span><span class="s">"/charge"</span> <span class="na">method=</span><span class="s">"post"</span><span class="nt">&gt;</span> 
  <span class="nt">&lt;select</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="na">name=</span><span class="s">"amount"</span> <span class="na">id=</span><span class="s">"amount"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">"25"</span><span class="nt">&gt;</span>$25<span class="nt">&lt;/option&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">"50"</span><span class="nt">&gt;</span>$50<span class="nt">&lt;/option&gt;</span> 
  <span class="nt">&lt;/select&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"card"</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"errorMessage"</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span><span class="nt">&gt;</span>Submit<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre>
<blockquote>
<p>If you want to customize the style of the card entry area, create a hidden <code>&lt;div&gt;</code> element to contain your styling. The <code>id</code> of this element MUST be <code>customStyles</code>.</p>
</blockquote>
<pre class="highlight html tab-html"><code><span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">"display: none"</span> <span class="na">id=</span><span class="s">"customStyles"</span><span class="nt">&gt;</span> 
  body {
    margin: 8px 0;
    }
#payment-form {
  border: 2px solid #003b5c; 
  padding: 5px 10px; 
  border-radius: 5px; 
  background: white;
  color: #333;
}
<span class="nt">&lt;/div&gt;</span>
</code></pre>
<blockquote>
<p>When the form is loaded, initialize the Pay element:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">tokenpay</span><span class="p">.</span><span class="nx">initialize</span><span class="p">({</span>
  <span class="na">dataElement</span><span class="p">:</span> <span class="s1">'#card'</span><span class="p">,</span> 
  <span class="na">errorElement</span><span class="p">:</span> <span class="s1">'#errorMessage'</span><span class="p">,</span> 
  <span class="na">useStyles</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>If you have created the <code>customStyles</code> element to style the card entry area, change the value of <code>useStyles</code> to <code>true</code>.</p>
</blockquote>

<p>To securely collect sensitive card details from your users, TokenPay.js creates UI components for you that are hosted by Beyond Pay Gateway. These are then inserted into your payment form.</p>

<p>The TokenPay element simplifies the form and minimizes the fields required by inserting a single input field that securely collects all needed card data.</p>
<h2 id='obtain-a-single-use-token'>Obtain a Single-Use Token</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">form</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'paymentForm'</span><span class="p">);</span> 
<span class="nx">$</span><span class="p">(</span><span class="s1">'#paymentForm'</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">'submit'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span> 
  <span class="nx">tokenpay</span><span class="p">.</span><span class="nx">createToken</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">hiddenInput</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'input'</span><span class="p">);</span> 
    <span class="nx">hiddenInput</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">'type'</span><span class="p">,</span> <span class="s1">'hidden'</span><span class="p">);</span> 
    <span class="nx">hiddenInput</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'token'</span><span class="p">);</span> 
    <span class="nx">hiddenInput</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">'value'</span><span class="p">,</span> <span class="nx">result</span><span class="p">.</span><span class="nx">token</span><span class="p">);</span> 
    <span class="nx">form</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">hiddenInput</span><span class="p">);</span>
    <span class="nx">form</span><span class="p">.</span><span class="nx">submit</span><span class="p">();</span>
  <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"error: "</span> <span class="o">+</span> <span class="nx">result</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre>
<p>The card data collected by the TokenPay element is posted from the client browser to Beyond Pay Gateway where it is converted into a token. If there are any errors in the collection of the card data or creation of the token, information is automatically displayed in the <code>errorElement</code> of your payment form.</p>

<p>The token is stored as a hidden input value and passed to your server on form submission.</p>
<h2 id='submit-a-sale-using-the-single-use-token'>Submit a Sale using the Single-Use Token</h2>
<blockquote>
<p>With the token and other key form fields obtained, now construct the XML payload from your server application:</p>
</blockquote>
<pre class="highlight xml tab-xml"><code><span class="nt">&lt;requestHeader&gt;</span>
    <span class="nt">&lt;ClientIdentifier&gt;</span>SOAP<span class="nt">&lt;/ClientIdentifier&gt;</span>
    <span class="nt">&lt;TransactionID&gt;</span>{transactionId}<span class="nt">&lt;/TransactionID&gt;</span>
    <span class="nt">&lt;RequestType&gt;</span>004<span class="nt">&lt;/RequestType&gt;</span>
    <span class="nt">&lt;RequestDateTime&gt;</span>{requestDateTime}<span class="nt">&lt;/RequestDateTime&gt;</span>
    <span class="nt">&lt;PrivateKey&gt;</span>{yourPrivateKey}<span class="nt">&lt;/PrivateKey&gt;</span>
    <span class="nt">&lt;AuthenticationTokenId&gt;</span>{token}<span class="nt">&lt;/AuthenticationTokenId&gt;</span>
    <span class="nt">&lt;requestMessage&gt;</span>                                        
        <span class="nt">&lt;SoftwareVendor&gt;</span>{yourSoftwareName}<span class="nt">&lt;/SoftwareVendor&gt;</span>
        <span class="nt">&lt;TransIndustryType&gt;</span>EC<span class="nt">&lt;/TransIndustryType&gt;</span>
        <span class="nt">&lt;TransactionType&gt;</span>sale<span class="nt">&lt;/TransactionType&gt;</span>
        <span class="nt">&lt;AcctType&gt;</span>R<span class="nt">&lt;/AcctType&gt;</span>
        <span class="nt">&lt;HolderType&gt;</span>P<span class="nt">&lt;/HolderType&gt;</span>
        <span class="nt">&lt;Amount&gt;</span>{amountInCents}<span class="nt">&lt;/Amount&gt;</span>
        <span class="nt">&lt;CurrencyCode&gt;</span>USD<span class="nt">&lt;/CurrencyCode&gt;</span>
    <span class="nt">&lt;/requestMessage&gt;</span>
<span class="nt">&lt;/requestHeader&gt;</span>';

</code></pre>
<blockquote>
<p>Encode the XML payload in Base-64 and package it within a SOAP envelope:</p>
</blockquote>
<pre class="highlight xml tab-xml"><code><span class="nt">&lt;soapenv:Envelope</span> <span class="na">xmlns:soapenv=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span> <span class="na">xmlns:req=</span><span class="s">"http://bridgepaynetsecuretx.com/requesthandler"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;soapenv:Header/&gt;</span>
                        <span class="nt">&lt;soapenv:Body&gt;</span>
                            <span class="nt">&lt;req:ProcessRequest&gt;</span>
                                <span class="nt">&lt;req:requestMsg&gt;</span>{Base-64 encoded XML payload}<span class="nt">&lt;/req:requestMsg&gt;</span>
                            <span class="nt">&lt;/req:ProcessRequest&gt;</span>
                        <span class="nt">&lt;/soapenv:Body&gt;</span>
                    <span class="nt">&lt;/soapenv:Envelope&gt;</span>
</code></pre>
<blockquote>
<p>POST the SOAP envelope to the appropriate endpoint:</p>

<p><b>Sandbox (Testing):</b></p>
</blockquote>
<pre class="highlight html tab-html"><code>https://api-test.getbeyondpay.com/PaymentService/RequestHandler.svc
</code></pre>
<blockquote>
<p><b>Live (Production):</b></p>
</blockquote>
<pre class="highlight html tab-html"><code>https://api.getbeyondpay.com/PaymentService/RequestHandler.svc
</code></pre>
<p>Once you have securely collected and tokenized your user’s card data using TokenPay.js, you can charge the card or save the token for future use. Charges against cards that are tokenized in the browser using TokenPay.js must <em>ONLY</em> made from your server.</p>

<p>On your server, collect the token information and the form POST parameters submitted by your form.</p>

<p>Now submit the token and parameters according to the <a href='https://drive.google.com/file/d/1wH6xioSc2x2itloTQfoYcD3CQ1TtvUmi/view?usp=sharing'>Beyond Pay Gateway API Guide</a>, with the following substitutions:</p>

<ul>
<li><code>{transactionId}</code> - unique transaction ID generated by your application for tracking purposes</li>
<li><code>{requestDateTime}</code> - date and time of the transaction in <code>yyyMMddHHmmss</code> format</li>
<li><code>{yourPrivateKey}</code> - your private API key, obtainable <a href='https://forms.gle/AMxdRZTsS6skq2DEA'>here.</a></li>
<li><code>{token}</code> - token delivered in the submission of your payment form</li>
<li><code>{amountInCents}</code> - transaction amount in cents ($1.25 would be 125)</li>
<li><code>{yourSoftwareName}</code> - the name and version number of your software application</li>
</ul>

<p>After your transaction has been successfully submitted to the gateway, make sure you inspect the response message. Specifically, look at:</p>

<ul>
<li><code>ResponseCode</code> - a 5 digit response code indicating the status of the transaction request</li>
<li><code>ResponseDescription</code>- a verbose description of the ResponseCode</li>
<li><code>GatewayResult</code> - an additional response code that may provide additional information on the status of the transaction</li>
<li><code>GatewayMessage</code> - a verbose description of the GatewayResult</li>
<li><code>AVSResult</code> - a code indicating the status of the Address Verification System request, if any</li>
<li><code>AVSMessage</code> - a verbose description of the AVSResult code meaning</li>
<li><code>CVResult</code> - a code indicating the status of the Card Security Code (aka CVV2, CID) sent in the request message</li>
<li><code>CVMessage</code> - a verbose description of the CVResult code meaning</li>
<li><code>Token</code> - a non-sensitive representation of the card number used in the transaction. The last four digits are the same as the last four digits of the card number. This value can be persisted and used for future recurring transactions from the same cardholder. </li>
</ul>

<aside class="warning">
You should always inspect the AVSResult and CVResult fields as these can be good indicators of potential fraud. If you see a AVSResult or CVResult code that you do not want to accept because it may be too risky (such as "No Match" on the submitted Zip code), then you should submit a void transaction to cancel the authorization and advise the cardholder that their transaction has been declined.
</aside>
<h2 id='perform-an-quot-auth-only-quot-or-quot-pre-auth-quot'>Perform an &quot;Auth-Only&quot; or &quot;Pre-Auth&quot;</h2>
<blockquote>
<p>To change from a &quot;sale&quot; transaction to an &quot;authorize&quot; transaction, simply set <code>TransactionType</code> to <code>sale-auth</code>:</p>
</blockquote>
<pre class="highlight xml tab-xml"><code><span class="nt">&lt;requestHeader&gt;</span>
    <span class="nt">&lt;ClientIdentifier&gt;</span>SOAP<span class="nt">&lt;/ClientIdentifier&gt;</span>
    <span class="nt">&lt;TransactionID&gt;</span>{transactionId}<span class="nt">&lt;/TransactionID&gt;</span>
    <span class="nt">&lt;RequestType&gt;</span>004<span class="nt">&lt;/RequestType&gt;</span>
    <span class="nt">&lt;RequestDateTime&gt;</span>{requestDateTime}<span class="nt">&lt;/RequestDateTime&gt;</span>
    <span class="nt">&lt;PrivateKey&gt;</span>{yourPrivateKey}<span class="nt">&lt;/PrivateKey&gt;</span>
    <span class="nt">&lt;AuthenticationTokenId&gt;</span>{token}<span class="nt">&lt;/AuthenticationTokenId&gt;</span>
    <span class="nt">&lt;requestMessage&gt;</span>                    
        <span class="nt">&lt;SoftwareVendor&gt;</span>{yourSoftwareName}<span class="nt">&lt;/SoftwareVendor&gt;</span>
        <span class="nt">&lt;TransIndustryType&gt;</span>EC<span class="nt">&lt;/TransIndustryType&gt;</span>
        <span class="nt">&lt;TransactionType&gt;</span>sale-auth<span class="nt">&lt;/TransactionType&gt;</span>
        <span class="nt">&lt;AcctType&gt;</span>R<span class="nt">&lt;/AcctType&gt;</span>
        <span class="nt">&lt;HolderType&gt;</span>P<span class="nt">&lt;/HolderType&gt;</span>
        <span class="nt">&lt;Amount&gt;</span>{amountInCents}<span class="nt">&lt;/Amount&gt;</span>
        <span class="nt">&lt;CurrencyCode&gt;</span>USD<span class="nt">&lt;/CurrencyCode&gt;</span>
        <span class="nt">&lt;SettlementDelay&gt;</span>{daysToDelay}<span class="nt">&lt;/SettlementDelay&gt;</span>
    <span class="nt">&lt;/requestMessage&gt;</span>
<span class="nt">&lt;/requestHeader&gt;</span>';

</code></pre>
<blockquote>
<p>In order to actually capture that authorization and charge the card, you must submit 019 capture <code>RequestType</code>, passing the original sale-auth <code>GatewayTransId</code> in the &#39;ReferenceNumber&#39; field, and using the <code>User</code> and <code>Password</code> credentials instead of <code>AuthenticationTokenId</code> and <code>PrivateKey</code> to authenticate:</p>
</blockquote>
<pre class="highlight xml tab-xml"><code><span class="nt">&lt;requestHeader&gt;</span>
    <span class="nt">&lt;ClientIdentifier&gt;</span>SOAP<span class="nt">&lt;/ClientIdentifier&gt;</span>
    <span class="nt">&lt;TransactionID&gt;</span>{transactionId}<span class="nt">&lt;/TransactionID&gt;</span>
    <span class="nt">&lt;RequestType&gt;</span>019<span class="nt">&lt;/RequestType&gt;</span>
    <span class="nt">&lt;RequestDateTime&gt;</span>{requestDateTime}<span class="nt">&lt;/RequestDateTime&gt;</span>
    <span class="nt">&lt;User&gt;</span>{Beyond-assigned username}<span class="nt">&lt;/User&gt;</span>
    <span class="nt">&lt;Password&gt;</span>{Beyond-assigned password}<span class="nt">&lt;/Password&gt;</span>
    <span class="nt">&lt;requestMessage&gt;</span>
        <span class="nt">&lt;SoftwareVendor&gt;</span>{yourSoftwareName}<span class="nt">&lt;/SoftwareVendor&gt;</span>
        <span class="nt">&lt;TransactionType&gt;</span>capture<span class="nt">&lt;/TransactionType&gt;</span>
        <span class="nt">&lt;ReferenceNumber&gt;</span>{original sale-auth GatewayTransId from response}<span class="nt">&lt;/ReferenceNumber&gt;</span>
        <span class="nt">&lt;Amount&gt;</span>{amountInCents}<span class="nt">&lt;/Amount&gt;</span>
    <span class="nt">&lt;/requestMessage&gt;</span>
<span class="nt">&lt;/requestHeader&gt;</span>';
</code></pre>
<p>Sometimes you may not want to accept payment right away for a transaction, such as when shipping physical goods. The normal practice in this scenario is to first authorize a card which will place a hold on the funds, and then to later &quot;capture&quot; that authorization when the order is fulfilled.</p>

<p>The <code>SettlementDelay</code> tag can be added for sale-auth transactions, and designates the number of batch cycles that the authorization remains &quot;open&quot; (or unsettled). If the sale-auth transaction is not captured before completion of the designated number of batches, then the original authorization will be automatically voided and not captured.</p>

<p>To capture an authorization (sometimes called a &quot;pre-auth&quot;), simply submit a <code>RequestType</code> of <code>019</code> for capture, along with passing the reference number of the original authorization as shown here.</p>

<aside class="notice">
This capture request and several other API requests described here may take differing credentials in order to authenticate the client. All such credentials will be provided by Beyond for testing and production.</a>.
</aside>
<h2 id='tokenization-and-repeat-sales-from-cards-on-file'>Tokenization and Repeat Sales from Cards-on-File</h2>
<blockquote>
<p>The <code>Token</code> element represents a card number and is valid so long a the card is valid. It may be used as input in a transaction in lieu of the <code>PaymentAccountNumber</code> or the <code>AuthenticationTokenId</code>, and also requires the <code>ExpirationDate</code> field to be submitted with it.</p>
</blockquote>
<pre class="highlight xml tab-xml"><code><span class="nt">&lt;requestHeader&gt;</span>
    <span class="nt">&lt;ClientIdentifier&gt;</span>SOAP<span class="nt">&lt;/ClientIdentifier&gt;</span>
    <span class="nt">&lt;TransactionID&gt;</span>{transactionId}<span class="nt">&lt;/TransactionID&gt;</span>
    <span class="nt">&lt;RequestType&gt;</span>004<span class="nt">&lt;/RequestType&gt;</span>
    <span class="nt">&lt;RequestDateTime&gt;</span>{requestDateTime}<span class="nt">&lt;/RequestDateTime&gt;</span>
    <span class="nt">&lt;User&gt;</span>{Beyond-assigned username}<span class="nt">&lt;/User&gt;</span>
    <span class="nt">&lt;Password&gt;</span>{Beyond-assigned password}<span class="nt">&lt;/Password&gt;</span>
    <span class="nt">&lt;requestMessage&gt;</span>
        <span class="nt">&lt;SoftwareVendor&gt;</span>{yourSoftwareName}<span class="nt">&lt;/SoftwareVendor&gt;</span>                    
        <span class="nt">&lt;Token&gt;</span>{token - not to be confused with AuthenticationTokenId}<span class="nt">&lt;/Token&gt;</span>
        <span class="nt">&lt;ExpirationDate&gt;</span>{expirationDate}<span class="nt">&lt;/ExpirationDate&gt;</span>
        <span class="nt">&lt;TransactionType&gt;</span>sale<span class="nt">&lt;/TransactionType&gt;</span>
        <span class="nt">&lt;TransIndustryType&gt;</span>EC<span class="nt">&lt;/TransIndustryType&gt;</span>
        <span class="nt">&lt;AcctType&gt;</span>R<span class="nt">&lt;/AcctType&gt;</span>
        <span class="nt">&lt;HolderType&gt;</span>P<span class="nt">&lt;/HolderType&gt;</span>
        <span class="nt">&lt;Amount&gt;</span>{amountInCents}<span class="nt">&lt;/Amount&gt;</span>
        <span class="nt">&lt;CurrencyCode&gt;</span>USD<span class="nt">&lt;/CurrencyCode&gt;</span>
    <span class="nt">&lt;/requestMessage&gt;</span>
<span class="nt">&lt;/requestHeader&gt;</span>
</code></pre>
<p>Every API response message from Beyond Pay contains a <code>Token</code> element. This Token represents the card number used in the original transaction, but is not considered a sensitive data element per the PCI DSS. To ease in identifying the original card, however, the last four digits of the <code>Token</code> are the same as the last four digits of the card number.</p>

<p>This Token value may be persisted and, with the cardholder&#39;s permission, associated with their user account in your application in order to make future purchases with the same card (&quot;card-on-file&quot;).</p>

<p>Submitting a sale or sale-auth transaction with the Token as input requires use of the User and Password credentials in the request message, and also requires that the card <code>ExpirationDate</code> value be persisted and stored with the <code>Token</code> (the <code>ExpirationDate</code> value is returned in the original response message along with the <code>Token</code>).</p>
<h2 id='refunds-and-voids'>Refunds and Voids</h2>
<blockquote>
<p>The <code>GatewayTransId</code> is returned in the response to a previous sale or sale-auth request and may be used as input to refund or void that original transaction.</p>
</blockquote>
<pre class="highlight xml tab-xml"><code><span class="nt">&lt;requestHeader&gt;</span>
    <span class="nt">&lt;ClientIdentifier&gt;</span>SOAP<span class="nt">&lt;/ClientIdentifier&gt;</span>
    <span class="nt">&lt;TransactionID&gt;</span>{transactionId}<span class="nt">&lt;/TransactionID&gt;</span>
    <span class="nt">&lt;RequestType&gt;</span>012<span class="nt">&lt;/RequestType&gt;</span>
    <span class="nt">&lt;RequestDateTime&gt;</span>{requestDateTime}<span class="nt">&lt;/RequestDateTime&gt;</span>
    <span class="nt">&lt;User&gt;</span>{Beyond-assigned username}<span class="nt">&lt;/User&gt;</span>
    <span class="nt">&lt;Password&gt;</span>{Beyond-assigned password}<span class="nt">&lt;/Password&gt;</span>
    <span class="nt">&lt;requestMessage&gt;</span>                    
        <span class="nt">&lt;SoftwareVendor&gt;</span>{yourSoftwareName}<span class="nt">&lt;/SoftwareVendor&gt;</span>
        <span class="nt">&lt;TransactionType&gt;</span>refund<span class="nt">&lt;/TransactionType&gt;</span>
        <span class="nt">&lt;ReferenceNumber&gt;</span>{original sale or sale-auth GatewayTransId}<span class="nt">&lt;/ReferenceNumber&gt;</span>
        <span class="nt">&lt;Amount&gt;</span>{amountInCents}<span class="nt">&lt;/Amount&gt;</span>
    <span class="nt">&lt;/requestMessage&gt;</span>
<span class="nt">&lt;/requestHeader&gt;</span>'
</code></pre>
<p>In order to refund or void a previous sale or sale-auth transaction, simply construct an XML message with <code>RequestType</code> of <code>012</code> and <code>TransactionType</code> of <code>refund</code>. Note that if the original transaction is still in an unsettled batch, the gateway will perform a void/reversal transaction. If the original transaction has already settled, then the gateway will perform a refund to the original card.</p>

<aside class="notice">
You may refund/void the full amount of an original transaction or only part of the amount (a "partial refund" or "partial reversal"). If the transaction is in the current open (unsettled) batch, then only a single void (for the full amount or partial amount) may be performed. If the transaction has settled, the refund request transaction may be repeated for multiple partial refunds up to the amount of the original transaction.
</aside>
<h1 id='in-person-payments'>In-Person Payments</h1><h2 id='payguardian'>PayGuardian</h2>
<blockquote>
<p><a href='https://www.dropbox.com/s/31515dk9s1hptpu/BridgePay%20Gateway%20Certified%20Device%20Matrix.pdf?dl=0'>CERTIFIED DEVICES</a></p>
</blockquote>

<p>Point‐of‐Sale (POS) systems that process sensitive payment information are required to certify their payment applications to the Payment Application Data Security Standard (PA‐DSS). The addition of EMV certification and continued need for both encryption and tokenization has become a concern for both merchants and integrators. Instituting and maintaining these standards requires significant financial and employee resources in order to adhere to the Payments Card Industry Data Security Standards (PCI DSS) compliance requirements. Subsequently, any changes made in the POS system, may require a partial or full recertification, which increases the cost and time to market. Beyond has engaged these issues through our product line, the PayGuardian suite, to better serve the needs of our integrators and merchants.</p>

<p>PayGuardian is a lightweight, highly secure client application that integrates seamlessly into POS applications. PayGuardian facilitates the transaction process by handling the collection and transmission of sensitive payment information as an out of scope PA-DSS solution, thereby offloading the certification responsibility from merchants and integrators. PayGuardian is EMV enabled, handles point to point encryption, and tokenizes all transactions to ensure transaction processing is seamless and secure.</p>
<h2 id='payguardian-desktop'>PayGuardian Desktop</h2>
<blockquote>
<p><a href='https://www.dropbox.com/s/9mhfffnqknd2q7y/PayGuardian-2.4.4.zip?dl=0'>Download PayGuardian Desktop v 2.4.4</a></p>

<p><a href='https://www.dropbox.com/s/2oczvikko1olz1a/PayGuardian%20Developer%20Guide.pdf?dl=0'>PayGuardian Desktop Developer Guide</a></p>

<p><a href='https://www.dropbox.com/s/o7itaspp454c5al/PayGuardian%20Installation%20Guide%20v2.4.3.pdf?dl=0'>PayGuardian Desktop Installation Guide</a></p>

<p><a href='https://www.dropbox.com/s/lq6l4lpmj05f29p/PayGuardian%20User%20Guide%20v2.4.1.pdf?dl=0'>PayGuardian Desktop User Guide</a></p>

<p>Sample C# DLL integration:</p>
</blockquote>
<pre class="highlight csharp"><code><span class="k">private</span> <span class="k">void</span> <span class="nf">ProcessCreditCard_Click</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">EventArgs</span> <span class="n">e</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// 1. First create a Payment Page</span>
    <span class="n">hostName</span><span class="p">=</span><span class="n">hostname</span><span class="p">.</span><span class="n">Text</span><span class="p">;</span>
    <span class="n">PaymentPage</span> <span class="n">pg</span><span class="p">=</span><span class="nf">newPaymentPage</span><span class="p">();</span>
    <span class="n">PaymentRequest</span> <span class="n">paymentRequest</span><span class="p">=</span><span class="n">pg</span><span class="p">.</span><span class="n">PaymentRequest</span><span class="p">;</span>
    <span class="n">paymentRequest</span><span class="p">.</span><span class="n">TenderType</span><span class="p">=</span><span class="n">PaymentRequest</span><span class="p">.</span><span class="nf">ParseTenderType</span><span class="p">(</span><span class="n">TenderType</span><span class="p">.</span><span class="n">Text</span><span class="p">);</span>
    <span class="n">paymentRequest</span><span class="p">.</span><span class="n">TransType</span><span class="p">=</span><span class="n">PaymentRequest</span><span class="p">.</span><span class="nf">ParseTransType</span><span class="p">(</span><span class="n">TransType</span><span class="p">.</span><span class="n">Text</span><span class="p">);</span>

    <span class="c1">// 2. Next, set the PayLink Properties</span>
    <span class="err">#</span><span class="n">regionSetPayLinkProperties</span>

    <span class="c1">// Set the only required field (Amount)</span>
    <span class="n">paymentRequest</span><span class="p">.</span><span class="n">Amount</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">Amount</span><span class="p">.</span><span class="n">Text</span><span class="p">.</span><span class="nf">ToString</span><span class="p">();</span>

    <span class="c1">// 3. Display the payment processing page</span>
    <span class="n">ShowPageResult</span> <span class="n">result</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
    <span class="k">try</span>
    <span class="p">{</span>
      <span class="n">Result</span> <span class="p">=</span> <span class="n">pg</span><span class="p">.</span><span class="nf">ShowPage</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="c1">// Error while processing payment</span>
      <span class="n">MessageBox</span><span class="p">.</span><span class="nf">Show</span><span class="p">(</span><span class="s">"Error Processing Payment"</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">PaymentResponse</span> <span class="n">paymentResponse</span> <span class="p">=</span> <span class="n">pg</span><span class="p">.</span><span class="n">PaymentResponse</span><span class="p">;</span>

    <span class="c1">// 4. Display the result of the transaction</span>
    <span class="err">#</span><span class="n">region</span> <span class="n">Show</span> <span class="n">the</span> <span class="n">PayLink</span> <span class="n">Result</span>

    <span class="nf">If</span> <span class="p">(</span><span class="n">result</span> <span class="p">!=</span> <span class="k">null</span> <span class="p">&amp;&amp;</span> <span class="n">result</span><span class="p">.</span><span class="n">code</span> <span class="p">==</span> <span class="n">ShowPageResultCode</span><span class="p">.</span><span class="n">OK</span><span class="p">)</span>

   <span class="c1">//TO DO - finish</span>

</code></pre>
<p>PayGuardian Desktop (for Windows) comes with an executable installer file that integrators may incorporate into their Point-of-Sale system installation. A Windows object library has also been included to enable easy integrations with POS applications. The object library is accessible using Component Object Model (COM) or .NET technology.When invoked, PayGuardian displays a basic frame that encapsulates the browser, fetching and rendering the Virtual Terminal (VT)page. The object window is configurable, and integrators can brand the user interface using cascading style sheets. The VT object window holds focus, floating on top of all other running applications.</p>

<aside class="success">
For development and testing, use this sandbox registration key: <b><code>H75RCGRV</code></b>. A new registration key will be provided for live/production transaction processing.
</aside>
<h2 id='payguardian-ios-sdk'>PayGuardian iOS SDK</h2>
<blockquote>
<p><a href='https://www.dropbox.com/s/g340i0bsp4tjo01/PayGuardian-iOS-2.5.zip?dl=0'>iOS Framework</a></p>

<p><a href='https://www.dropbox.com/s/ffdc90z7thgnxw0/PayGuardian%20iOS%20Framework%20Developer%20Guide%20v2.5.0.pdf?dl=0'>iOS Developer Guide</a></p>

<p><a href='https://www.dropbox.com/s/0wt5jp013fszfnd/PayGuardian-iOS-Test.zip?dl=0'>Test iOS App</a></p>

<p>Create a BPNPaymentRequest object:</p>
</blockquote>
<pre class="highlight objective_c tab-objective_c"><code><span class="k">-</span><span class="p">(</span><span class="n">instancetype</span><span class="p">)</span> <span class="nf">initInvoiceNumber</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="n">_Nonnull</span><span class="p">)</span> <span class="n">invoiceNumber</span>
<span class="n">pnRefNum</span><span class="o">:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="n">_Nullable</span><span class="p">)</span> <span class="n">pnRefNum</span> 
<span class="n">amount</span><span class="o">:</span><span class="p">(</span><span class="n">NSDecimalNumber</span> <span class="o">*</span><span class="n">_Nullable</span><span class="p">)</span> <span class="n">amount</span> 
<span class="n">tipAmount</span><span class="o">:</span><span class="p">(</span><span class="n">NSDecimalNumber</span> <span class="o">*</span><span class="n">_Nullable</span><span class="p">)</span> <span class="n">tipAmount</span> 
<span class="n">cashBackAmount</span><span class="o">:</span><span class="p">(</span><span class="n">NSDecimalNumber</span> <span class="o">*</span><span class="n">_Nullable</span><span class="p">)</span> <span class="n">cashBackAmount</span> 
<span class="n">tenderType</span><span class="o">:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="n">_Nonnull</span><span class="p">)</span> <span class="n">tenderType</span> 
<span class="n">transactionType</span><span class="o">:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="n">_Nonnull</span><span class="p">)</span> <span class="n">transactionType</span> 
<span class="n">username</span><span class="o">:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="n">_Nonnull</span><span class="p">)</span> <span class="n">username</span> 
<span class="n">password</span><span class="o">:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="n">_Nonnull</span><span class="p">)</span> <span class="n">password</span> 
<span class="n">merchantCode</span><span class="o">:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="n">_Nonnull</span><span class="p">)</span> <span class="n">merchantCode</span> 
<span class="n">merchantAccountCode</span><span class="o">:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="n">_Nonnull</span><span class="p">)</span> <span class="n">merchantAccountCode</span> 
<span class="n">paymentAccountNumber</span><span class="o">:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="n">_Nullable</span><span class="p">)</span> <span class="n">paymentAccountNumber</span> 
<span class="n">token</span><span class="o">:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="n">_Nullable</span><span class="p">)</span> <span class="n">token</span> 
<span class="n">expirationDate</span><span class="o">:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="n">_Nullable</span><span class="p">)</span> <span class="n">expirationDate</span> 
<span class="n">terminalCommConfig</span><span class="o">:</span><span class="p">(</span><span class="n">TerminalCommConfig</span> <span class="o">*</span><span class="n">_Nonnull</span><span class="p">)</span> <span class="n">terminalCommConfig</span>
<span class="n">industryType</span><span class="o">:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="n">_Nonnull</span><span class="p">)</span> <span class="n">industryType</span> 
<span class="n">healthCareData</span><span class="o">:</span><span class="p">(</span><span class="n">BPNHealthCare</span> <span class="o">*</span><span class="n">_Nullable</span><span class="p">)</span> <span class="n">healthCareData</span> 
<span class="n">bankAccountNumber</span><span class="o">:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="n">_Nullable</span><span class="p">)</span> <span class="n">bankAccountNumber</span>
<span class="n">routingNumber</span><span class="o">:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="n">_Nullable</span><span class="p">)</span> <span class="n">routingNumber</span>
<span class="n">partialApproval</span><span class="o">:</span><span class="p">(</span><span class="n">BOOL</span><span class="p">)</span> <span class="n">partialApproval</span>
<span class="n">enableTpi</span><span class="o">:</span><span class="p">(</span><span class="n">BOOL</span><span class="p">)</span> <span class="n">enableTpi</span>
<span class="n">signatureData</span><span class="o">:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="n">_Nullable</span><span class="p">)</span> <span class="n">signatureData</span>
<span class="n">disableAmountConfirmation</span><span class="o">:</span><span class="p">(</span><span class="n">BOOL</span><span class="p">)</span> <span class="n">disableAmountConfirmation</span>
<span class="n">testMode</span><span class="o">:</span><span class="p">(</span><span class="n">BOOL</span><span class="p">)</span> <span class="n">testMode</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>Construct the PayGuardianTransaction object:</p>
</blockquote>
<pre class="highlight objective_c tab-objective_c"><code><span class="nl">initWithPaymentRequest:</span><span class="p">(</span><span class="n">BPNPaymentRequest</span> <span class="o">*</span><span class="p">)</span><span class="n">request</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>The run method with completion is:</p>
</blockquote>
<pre class="highlight objective_c tab-objective_c"><code><span class="k">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">runOnCompletion</span><span class="p">:(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">BPNPayment</span> <span class="o">*</span><span class="n">payment</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">))</span> <span class="n">onCompletion</span> <span class="n">onStateChanged</span><span class="o">:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">PayGuardianTransactionState</span> <span class="n">state</span><span class="p">))</span> <span class="n">onStateChanged</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>Implement a handler for the returned BPNPayment response:</p>
</blockquote>
<pre class="highlight objective_c tab-objective_c"><code><span class="n">BPNPayment</span><span class="p">.</span><span class="n">BridgeCommResponse</span><span class="o">:</span>
<span class="n">transactionID</span><span class="o">:</span> <span class="mi">8888</span>
<span class="n">requestType</span><span class="o">:</span> <span class="mo">004</span>
<span class="n">responseCode</span><span class="o">:</span> <span class="mi">0</span>
<span class="n">responseDescription</span><span class="o">:</span> <span class="n">Successful</span> <span class="n">Request</span>
<span class="n">token</span><span class="o">:</span> <span class="mi">11110000000068530608</span>
<span class="n">expirationDate</span><span class="o">:</span> <span class="mi">1225</span>
<span class="n">authorizationCode</span><span class="o">:</span> <span class="mi">290144</span>
<span class="n">originalReferenceNumber</span><span class="o">:</span> <span class="n">MCC7754741020</span>
<span class="n">authorizedAmount</span><span class="o">:</span> <span class="err">$</span><span class="mi">5</span><span class="p">.</span><span class="mi">50</span>
<span class="n">originalAmount</span><span class="o">:</span> <span class="err">$</span><span class="mi">5</span><span class="p">.</span><span class="mi">50</span>
<span class="n">gatewayTransactionID</span><span class="o">:</span> <span class="mi">214973401</span>
<span class="n">gatewayMessage</span><span class="o">:</span> <span class="n">A01</span> <span class="o">-</span><span class="n">Approved</span>
<span class="n">internalMessage</span><span class="o">:</span> <span class="n">Approved</span><span class="o">:</span> <span class="mi">290144</span> <span class="p">(</span><span class="n">approval</span> <span class="n">code</span><span class="p">)</span>
<span class="n">gatewayResult</span><span class="o">:</span> <span class="mo">00000</span>
<span class="n">AVSMessage</span><span class="o">:</span>
<span class="n">AVSResponse</span><span class="o">:</span>
<span class="n">CVMessage</span><span class="o">:</span>
<span class="n">CVResult</span><span class="o">:</span>
<span class="n">transactionCode</span><span class="o">:</span> <span class="p">(</span><span class="n">null</span><span class="p">)</span>
<span class="n">transactionDate</span><span class="o">:</span> <span class="mi">20161020</span>
<span class="n">remainingAmount</span><span class="o">:</span> <span class="err">$</span><span class="mi">0</span><span class="p">.</span><span class="mo">00</span>
<span class="n">ISOCountryCode</span><span class="o">:</span> <span class="p">(</span><span class="n">null</span><span class="p">)</span>
<span class="n">ISOCurrencyCode</span><span class="o">:</span> <span class="n">USD</span>
<span class="n">ISOTransactionDate</span><span class="o">:</span> <span class="mi">2016</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">20</span> <span class="mi">14</span><span class="o">:</span><span class="mi">32</span><span class="o">:</span><span class="mi">47</span><span class="p">.</span><span class="mi">86</span>
<span class="n">ISORequestDate</span><span class="o">:</span> <span class="mi">2016</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">20</span> <span class="mi">14</span><span class="o">:</span><span class="mi">32</span><span class="o">:</span><span class="mi">47</span><span class="p">.</span><span class="mi">86</span>
<span class="n">networkReferenceNumber</span><span class="o">:</span> <span class="n">MCC7754741020</span>
<span class="n">merchantCategoryCode</span><span class="o">:</span>
<span class="n">networkMerchantID</span><span class="o">:</span> <span class="mi">518564010126944</span>
<span class="n">networkTerminalID</span><span class="o">:</span> <span class="n">PPB01</span><span class="p">.</span>
<span class="n">cardType</span><span class="o">:</span> <span class="n">Mastercard</span>
<span class="n">maskedPAN</span><span class="o">:</span> <span class="mi">5</span><span class="o">***********</span><span class="mo">060</span><span class="mi">8</span>
<span class="n">responseTypeDescription</span><span class="o">:</span> <span class="n">sale</span>
<span class="n">isCommercialCard</span><span class="o">:</span> <span class="n">False</span>
<span class="n">streetMatchMessage</span><span class="o">:</span>
<span class="n">secondsRemaining</span><span class="o">:</span> <span class="p">(</span><span class="n">null</span><span class="p">)</span>
<span class="n">merchantCode</span><span class="o">:</span> <span class="p">(</span><span class="n">null</span><span class="p">)</span>
<span class="n">merchantAccountCode</span><span class="o">:</span> <span class="p">(</span><span class="n">null</span><span class="p">)</span>
<span class="n">merchantName</span><span class="o">:</span> <span class="p">(</span><span class="n">null</span><span class="p">)</span>
<span class="n">receiptTagData</span><span class="o">:</span> <span class="p">(</span><span class="n">null</span><span class="p">)</span>
<span class="n">issuerTagData</span><span class="o">:</span> <span class="p">(</span><span class="n">null</span><span class="p">)</span>
<span class="n">applicationIdentifier</span><span class="o">:</span> <span class="p">(</span><span class="n">null</span><span class="p">)</span>
<span class="n">terminalVerificationResults</span><span class="o">:</span> <span class="p">(</span><span class="n">null</span><span class="p">)</span>
<span class="n">issuerApplicationData</span><span class="o">:</span> <span class="p">(</span><span class="n">null</span><span class="p">)</span>
<span class="n">transactionStatusInformation</span><span class="o">:</span> <span class="p">(</span><span class="n">null</span><span class="p">)</span>
</code></pre>
<p>PayGuardian iOS is a secure iOS framework library that integrates seamlessly into iOS applications. PayGuardian iOS facilitates the transaction process by handling the collection and transmission of sensitive payment information as an out of scope PA-DSS solution, thereby offloading the certification responsibility from merchants and integrators. PayGuardian iOS is EMV enabled, handles point to point encryption, and tokenizes all transactions to ensure transaction processing is seamless and secure.</p>

<p>Programmatically, a PayGuardian iOS transaction is comprised of a four step process:</p>

<ul>
<li>Create a BPNPaymentRequest object.</li>
<li>Pass the BPNPaymentRequest object to the constructor of a PayGuardianTransaction object.</li>
<li>Call the runOnCompletion method and provide an implementation for the completion.</li>
<li>Implement a handler for the returned BPNPayment and/or NSError.</li>
</ul>

<aside class="success">
For development and testing, use this sandbox registration key: <b><code>H75RCGRV</code></b>. A new registration key will be provided for live/production transaction processing.
</aside>
<h2 id='payguardian-android-sdk'>PayGuardian Android SDK</h2>
<blockquote>
<p><a href='https://www.dropbox.com/s/zoa1s4n9s8cleob/PGAndroid-2.5.zip?dl=0'>PayGuardian for Android</a></p>

<p><a href='https://www.dropbox.com/s/wem8vf780lffxfx/PayGuardian%20Android%20Developer%20Guide%20%20v2.5.0.pdf?dl=0'>Android Developer Guide</a></p>

<p><a href='https://www.dropbox.com/s/35d2k95ltrrw7nm/App2AppSampleProject.zip?dl=0'>Android app-to-app sample project</a></p>

<p>Java sample (App-to-App method):</p>
</blockquote>
<pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">processTransaction</span><span class="o">(</span><span class="n">String</span> <span class="n">paymentRequestXml</span><span class="o">)</span>
  <span class="o">{</span>
    <span class="kd">final</span> <span class="kt">int</span> <span class="n">PAYGUARDIAN_REQUEST_CODE</span> <span class="o">=</span> <span class="mi">102</span><span class="o">;</span>
    <span class="n">Intent</span> <span class="n">sendIntent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">android</span><span class="o">.</span><span class="na">content</span><span class="o">.</span><span class="na">Intent</span><span class="o">.</span><span class="na">ACTION_SEND</span><span class="o">);</span>
    <span class="n">sendIntent</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">"text/plain"</span><span class="o">);</span>
    <span class="n">sendIntent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">EXTRA_TEXT</span><span class="o">,</span> <span class="n">paymentInputXml</span><span class="o">);</span>

    <span class="n">PackageManager</span> <span class="n">pm</span> <span class="o">=</span> <span class="n">getApplicationContext</span><span class="o">().</span><span class="na">getPackageManager</span><span class="o">();</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">ResolveInfo</span><span class="o">&gt;</span> <span class="n">activityList</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="na">queryIntentActivities</span><span class="o">(</span><span class="n">sendIntent</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>

    <span class="k">for</span> <span class="o">(</span><span class="kd">final</span> <span class="n">ResolveInfo</span> <span class="n">app</span> <span class="o">:</span> <span class="n">activityList</span><span class="o">)</span>
    <span class="o">{</span>
      <span class="k">if</span> <span class="o">((</span><span class="n">app</span><span class="o">.</span><span class="na">activityInfo</span><span class="o">.</span><span class="na">name</span><span class="o">).</span><span class="na">contains</span><span class="o">(</span><span class="s">"ProcessSecurelyActivity"</span><span class="o">))</span>
      <span class="o">{</span>
        <span class="kd">final</span> <span class="n">ActivityInfo</span> <span class="n">activity</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="na">activityInfo</span><span class="o">;</span>
        <span class="kd">final</span> <span class="n">ComponentName</span> <span class="n">name</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ComponentName</span><span class="o">(</span><span class="n">activity</span><span class="o">.</span><span class="na">applicationInfo</span><span class="o">.</span><span class="na">packageName</span><span class="o">,</span> <span class="n">activity</span><span class="o">.</span><span class="na">name</span><span class="o">);</span>

        <span class="n">sendIntent</span><span class="o">.</span><span class="na">setComponent</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>

        <span class="n">startActivityForResult</span><span class="o">(</span><span class="n">sendIntent</span><span class="o">,</span> <span class="n">PAYGUARDIAN_REQUEST_CODE</span><span class="o">);</span>

        <span class="k">break</span><span class="o">;</span>
      <span class="o">}</span>
    <span class="o">}</span>
</code></pre>
<p>PayGuardian Android is a lightweight, highly secure Android application that integrates seamlessly into mobile POS (mPOS) applications. PayGuardian Android facilitates the transaction process by handling the collection and transmission of sensitive payment information as an out of scope PA-DSS solution, thereby offloading the certification responsibility from merchants and integrators. PayGuardian Android is EMV enabled, handles point to point encryption, and tokenizes all transactions to ensure transaction processing is seamless and secure.</p>
<h3 id='process-flow'>Process Flow</h3>
<ul>
<li>The mPOS application collects transaction data, such as the dollar amount, invoice number, tender type, transaction type, merchant account information, etc.</li>
<li>The mPOS application constructs the transaction requesting an XML format upon the selection of the Process button.</li>
<li>PayGuardian obtains the card information via the claiming of the mPOS device using the Device USB Host connection and validates the transaction request object.</li>
<li>The mPOS device prompts to swipe or insert the card and transmits the card information to the PayGuardian application, which captures the card data as a swiped or EMV transaction respectively.</li>
<li>PayGuardian constructs the payload request and transmits the transaction request to the Beyond Pay Gateway.</li>
<li>PayGuardian transmits the transaction response returned from the Gateway back to the mPOS application.</li>
<li>The mPOS application implementation responds accordingly to the transaction response.</li>
</ul>

<p>For the App-to-App integration method, the PayGuardian Android application is accessed by starting an activity with an intent which encapsulates a request payload.</p>

<aside class="success">
For development and testing, use this sandbox registration key: <b><code>H75RCGRV</code></b>. A new registration key will be provided for live/production transaction processing.
</aside>
<h2 id='payguardian-cloud'>PayGuardian Cloud</h2>
<blockquote>
<p><a href='https://pgc.bridgepaynetsecuretx.com/'>PayGuardian Cloud API</a></p>

<p><code>POST https://pgc.bridgepaynetsecuretest.com/req/payment</code></p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
</span><span class="s2">"locationID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your-locationID"</span><span class="p">,</span><span class="w">
</span><span class="s2">"terminalID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="p">,</span><span class="w">
</span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your_user_name"</span><span class="p">,</span><span class="w">
</span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your_password"</span><span class="p">,</span><span class="w">
</span><span class="s2">"merchantAccountCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your_merchantAccountCode"</span><span class="p">,</span><span class="w">
</span><span class="s2">"merchantCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your_merchantCode"</span><span class="p">,</span><span class="w">
</span><span class="s2">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UAT"</span><span class="p">,</span><span class="w">
</span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
</span><span class="s2">"softwareVendor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your_POS_name"</span><span class="p">,</span><span class="w">
</span><span class="s2">"tenderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CREDIT"</span><span class="p">,</span><span class="w">
</span><span class="s2">"transType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SALE"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>PayGuardian Cloud is designed for cloud-based Point-of-Sale systems, and delivers the same scope removal and easy EMV acceptance as other versions of PayGuardian. PayGuardian Cloud is operating system independent, and is installed on the merchant&#39;s router as a network appliance.</p>

<aside class="notice">
PayGuardian Cloud is currently in limited beta testing. <a href='mailto:BeyondPayIntegrations@getBeyond.com'>Contact us</a> if you are interested!
</aside>
<h1 id='transaction-reporting'>Transaction Reporting</h1>
<blockquote>
<p><a href='https://www.dropbox.com/s/h7ih2g47w8b8v39/BridgePay%20Public%20Reporting%20API%20v1%200%201.pdf?dl=0'>Reporting Developer Guide</a></p>

<p><a href='https://www.dropbox.com/s/epf9jhj5swi5q68/BridgePay_Reporting%20_API.zip?dl=0'>Reporting SDK (C#)</a></p>

<p>Web Service: <a href='https://api.getbeyondpay.com/Reporting.API/ReportingAPI.svc'>https://api.getbeyondpay.com/Reporting.API/ReportingAPI.svc</a></p>

<p>C# sample implementation:</p>
</blockquote>
<pre class="highlight csharp"><code><span class="k">class</span> <span class="nc">Program</span>
<span class="p">{</span>
  <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">ReportingAPI</span><span class="p">.</span><span class="n">Credentials</span> <span class="n">credentials</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ReportingAPI</span><span class="p">.</span><span class="nf">Credentials</span><span class="p">();</span>

    <span class="n">credentials</span><span class="p">.</span><span class="n">UserName</span> <span class="p">=</span> <span class="s">"username"</span><span class="p">;</span>
    <span class="n">credentials</span><span class="p">.</span><span class="n">Password</span> <span class="p">=</span> <span class="s">"password"</span><span class="p">;</span>

    <span class="n">ReportingAPI</span><span class="p">.</span><span class="n">ReportingAPIV1Client</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ReportingAPI</span><span class="p">.</span><span class="nf">ReportingAPIV1Client</span><span class="p">();</span>
    <span class="n">ReportingAPI</span><span class="p">.</span><span class="n">TransactionRowFilter</span> <span class="n">filter</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ReportingAPI</span><span class="p">.</span><span class="nf">TransactionRowFilter</span><span class="p">();</span>

    <span class="n">filter</span><span class="p">.</span><span class="n">MerchantID</span> <span class="p">=</span> <span class="m">2000</span><span class="p">;</span>
    <span class="n">filter</span><span class="p">.</span><span class="n">MerchantAccountID</span> <span class="p">=</span> <span class="m">2001</span><span class="p">;</span>

    <span class="n">filter</span><span class="p">.</span><span class="n">DateRangeFrom</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">.</span><span class="nf">AddMonths</span><span class="p">(-</span><span class="m">2</span><span class="p">);</span>
    <span class="n">filter</span><span class="p">.</span><span class="n">DateRangeTo</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">;</span>

    <span class="n">filter</span><span class="p">.</span><span class="n">Skip</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
    <span class="n">filter</span><span class="p">.</span><span class="n">Take</span> <span class="p">=</span> <span class="m">20</span><span class="p">;</span>

    <span class="n">ReportingAPI</span><span class="p">.</span><span class="n">TransactionSet</span> <span class="n">ts</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ReportingAPI</span><span class="p">.</span><span class="nf">TransactionSet</span><span class="p">();</span>

    <span class="n">Ts</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">PublicGetTransactionsByFilter</span><span class="p">(</span><span class="n">credentials</span><span class="p">,</span> <span class="n">filter</span><span class="p">);</span>

    <span class="k">foreach</span> <span class="p">(</span><span class="n">ReportingAPI</span><span class="p">.</span><span class="n">TransactionRow</span> <span class="n">tr</span> <span class="k">in</span> <span class="n">ts</span><span class="p">.</span><span class="n">TransactionList</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Transaction ID: "</span> <span class="p">+</span> <span class="n">tr</span><span class="p">.</span><span class="n">TransactionId</span><span class="p">);</span> 
      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Sale Date / Time: "</span> <span class="p">+</span> <span class="n">tr</span><span class="p">.</span><span class="n">SaleDateTime</span><span class="p">);</span> 
      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Merchant Name: "</span> <span class="p">+</span> <span class="n">tr</span><span class="p">.</span><span class="n">MerchantName</span><span class="p">);</span> 
      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Card Holder Name: "</span> <span class="p">+</span> <span class="n">tr</span><span class="p">.</span><span class="n">FirstName</span> <span class="p">+</span> <span class="s">" "</span> <span class="p">+</span> <span class="n">tr</span><span class="p">.</span><span class="n">LastName</span><span class="p">);</span> 
      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Invoice Number: "</span> <span class="p">+</span> <span class="n">tr</span><span class="p">.</span><span class="n">InvoiceNumber</span><span class="p">);</span> 
      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Auth Code: "</span> <span class="p">+</span> <span class="n">tr</span><span class="p">.</span><span class="n">AuthCode</span><span class="p">);</span> 
      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Requested Amount: "</span> <span class="p">+</span> <span class="n">tr</span><span class="p">.</span><span class="n">RequestedAmount</span><span class="p">);</span> 
      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Authorized Amount: "</span> <span class="p">+</span> <span class="n">tr</span><span class="p">.</span><span class="n">AuthorizedAmount</span><span class="p">);</span> 
      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Remaining Amount: "</span> <span class="p">+</span> <span class="n">tr</span><span class="p">.</span><span class="n">RemainingAmount</span><span class="p">);</span> 
      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Settle Anmount: "</span> <span class="p">+</span> <span class="n">tr</span><span class="p">.</span><span class="n">SettleAmnount</span><span class="p">);</span> 
      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"--------------------------------------------"</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<p>The Beyond Pay Reporting API provides integrators with the ability to request transaction data via a SOAP request made to the service.  The user must provide data they wish to use as a filter in the parameter to the SOAP method and will receive a response containing the data they requested.</p>

<p>The Reporting API provides three data contracts.  One for the incoming request and two for the response to the request.  When making a request, the consumer must provide a TransctionRowFilter object. When receiving the response, the consumer will get a TransactionSet object which will contain a collection of TransactionRow objects.  The data contracts are described in more detail below.</p>
<h3 id='transactionrowfilter'>TransactionRowFilter</h3>
<table><thead>
<tr>
<th>Parameter Name</th>
<th>Data Type</th>
<th>Validations</th>
<th>Comparison Type</th>
</tr>
</thead><tbody>
<tr>
<td>AmountRangeFrom</td>
<td>Implied Integer</td>
<td>Optional</td>
<td>GTE</td>
</tr>
<tr>
<td>AmountRangeTo</td>
<td>Implied Integer</td>
<td>Optional</td>
<td></td>
</tr>
<tr>
<td>AuthorizationCode</td>
<td>String</td>
<td>Optional, Exact Match</td>
<td>EQUIV</td>
</tr>
<tr>
<td>BatchID</td>
<td>Integer</td>
<td>Optional</td>
<td>EQUIV</td>
</tr>
<tr>
<td>CardBrand</td>
<td>String</td>
<td>Optional, Must match known card brands</td>
<td>EQUIV</td>
</tr>
<tr>
<td>CardholderFirstName</td>
<td>String</td>
<td>Optional, Exact Match</td>
<td>EQUIV</td>
</tr>
<tr>
<td>CardholderLastName</td>
<td>String</td>
<td>Optional, Partial Match</td>
<td>CONTAINS</td>
</tr>
<tr>
<td>ClerkId</td>
<td>String</td>
<td>Optional, Exact Match</td>
<td>EQUIV</td>
</tr>
<tr>
<td>CustomerNumber</td>
<td>String</td>
<td>Optional, Exact Match</td>
<td>EQUIV</td>
</tr>
<tr>
<td>DateRangeFrom</td>
<td>DateTime</td>
<td>Optional</td>
<td>GTE</td>
</tr>
<tr>
<td>DateRangeTo</td>
<td>DateTime</td>
<td>Optional</td>
<td>LTE</td>
</tr>
<tr>
<td>EndPartialAccountNumber</td>
<td>String</td>
<td>Optional</td>
<td>EQUIV</td>
</tr>
<tr>
<td>ExcludeTransResults*</td>
<td>Boolean</td>
<td>Optional (1 or 0)</td>
<td>N/A</td>
</tr>
<tr>
<td>ExcludeVoid</td>
<td>Boolean</td>
<td>Optional (1 or 0)</td>
<td>N/A</td>
</tr>
<tr>
<td>ID</td>
<td>Integer</td>
<td>Optional, Exact Match</td>
<td>EQUIV</td>
</tr>
<tr>
<td>InvoiceNumber</td>
<td>String</td>
<td>Optional, Exact Match</td>
<td>EQUIV</td>
</tr>
<tr>
<td>MerchantAccountId</td>
<td>Integer</td>
<td>Optional</td>
<td>EQUIV</td>
</tr>
<tr>
<td>MerchantId</td>
<td>Integer</td>
<td>Optional</td>
<td>EQUIV</td>
</tr>
<tr>
<td>PaymentMethodID</td>
<td>String</td>
<td>Optional, Exact Match</td>
<td>EQUIV</td>
</tr>
<tr>
<td>PurchaseOrderNumber</td>
<td>String</td>
<td>Optional, Exact Match</td>
<td>EQUIV</td>
</tr>
<tr>
<td>ResellerID</td>
<td>Integer</td>
<td>Optional</td>
<td>EQUIV</td>
</tr>
<tr>
<td>ResponseCode</td>
<td>String</td>
<td>Optional, Partial Match</td>
<td>CONTAINS</td>
</tr>
<tr>
<td>SettlementStatus</td>
<td>String</td>
<td>Optional, Exact Match</td>
<td>EQUIV</td>
</tr>
<tr>
<td>Skip</td>
<td>Integer</td>
<td>Required</td>
<td>N/A</td>
</tr>
<tr>
<td>Take</td>
<td>Integer</td>
<td>Required</td>
<td>N/A</td>
</tr>
<tr>
<td>TransactionSourceIP</td>
<td>String</td>
<td>Optional, Exact Match</td>
<td>EQUIV</td>
</tr>
<tr>
<td>TransactionStatus</td>
<td>String</td>
<td>Optional, Exact Match</td>
<td>EQUIV</td>
</tr>
<tr>
<td>TransResults*</td>
<td>String</td>
<td>Optional, Multi-Match (comma separated list)</td>
<td>INLIST</td>
</tr>
</tbody></table>

<p>The <code>TransResults</code> field works by mapping theb 5-digit Beyond Pay <a href="#gateway-result-codes">Gateway Result code</a> back to the gateway response code (the <code>ResponseCode</code> or <a href="#gateway-message-codes">Gateway Message code</a> field in this contract).  In some cases, more than one mapping may exist for a given code.  It is recommended that you use the <code>ResponseCode</code> or <a href="#gateway-message-codes">Gateway Message code</a> field for more granular filtering. The <code>ExcludeTransResults</code> field can modify the behavior of the <code>TransResults</code> field by establishing a &quot;not in&quot; condition.</p>
<h3 id='transactionset'>TransactionSet</h3>
<table><thead>
<tr>
<th>Parameter Name</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>RecordCount</td>
<td>Integer</td>
<td>The total number of records that match the filter, excluding the Take &amp; Skip fields.</td>
</tr>
<tr>
<td>TransactionList</td>
<td>List<TransactionRow></td>
<td>A collection of TransactionRow objects.</td>
</tr>
</tbody></table>
<h3 id='transactionrow'>TransactionRow</h3>
<table><thead>
<tr>
<th>Parameter Name</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Account Type</td>
<td>String</td>
<td>1 character identifier that determines the type of account. Valid values are R (Branded Credit Card), E (Branded debit checking card), V (Branded debit savings card), D (Unbranded debit checking card), I (Unbranded debit savings card), S (Bank savings account), C (Bank checking account), F (EBT food stamp), H (EBT cash benefit), G (Gift card), L (Fleet), A (Cash), K (Check)</td>
</tr>
<tr>
<td>AuthCode</td>
<td>String</td>
<td>The Authorization Code provided by the card issuer</td>
</tr>
<tr>
<td>AuthorizedAmount</td>
<td>Implied Integer</td>
<td>The amount that was actually authorized. This may be different from the requested amount (e.g., partial approvals)</td>
</tr>
<tr>
<td>BatchDateTime</td>
<td>DateTime</td>
<td>The close date of the batch that contains the transaction</td>
</tr>
<tr>
<td>BatchId</td>
<td>Integer</td>
<td>The gateway Batch ID that contains this transaction</td>
</tr>
<tr>
<td>CardBrand</td>
<td>String</td>
<td>Description of the card brand used. Valid values: AMEX, DISCOVER, MASTERCARD, DINERS, and VISA</td>
</tr>
<tr>
<td>ClerkId</td>
<td>String</td>
<td>The client-supplied Clerk ID (or the Username used to process the transaction if no Clerk ID was provided)</td>
</tr>
<tr>
<td>ClerkName</td>
<td>String</td>
<td>The client-supplied name of the Clerk who processed the transaction</td>
</tr>
<tr>
<td>CustomerAddress</td>
<td>String</td>
<td>The client-provided Street Address for the transaction</td>
</tr>
<tr>
<td>CustomerEmail</td>
<td>String</td>
<td>The client-provided Email Address for the transaction</td>
</tr>
<tr>
<td>CustomerNumber</td>
<td>String</td>
<td>The client-provided Customer ID</td>
</tr>
<tr>
<td>CustomerZip</td>
<td>String</td>
<td>The client-provided Zip Code</td>
</tr>
<tr>
<td>EntryModeId</td>
<td>String</td>
<td>Identifies how the transaction was processed. Valid valus are T1 (Track 1 Data), T2 (Track 2 Data), T3 (Track 1 and 2 Data), KD (Keyed)</td>
</tr>
<tr>
<td>ExpirationDate</td>
<td>String</td>
<td>Month and Year of the card expiry date in MMYY format</td>
</tr>
<tr>
<td>FirstName</td>
<td>String</td>
<td>First name of the account holder</td>
</tr>
<tr>
<td>HolderType</td>
<td>String</td>
<td>A one-character code identifying if the payment method was a personal account (P) or a business/corporate account (O)</td>
</tr>
<tr>
<td>InvoiceNumber</td>
<td>String</td>
<td>The client-provided Invoice Number</td>
</tr>
<tr>
<td>LastFour</td>
<td>String</td>
<td>The last four digits of the Primary Account Number (card number)</td>
</tr>
<tr>
<td>LastName</td>
<td>String</td>
<td>The last name of the account holder</td>
</tr>
<tr>
<td>MaskedAccount</td>
<td>String</td>
<td>A masked version of the account number used to process the transaction</td>
</tr>
<tr>
<td>Memo</td>
<td>String</td>
<td>The client-provided &quot;PaymentType&quot; value</td>
</tr>
<tr>
<td>MerchantAccountId</td>
<td>Integer</td>
<td>The &quot;MerchantAccountCode&quot; for the transaction</td>
</tr>
<tr>
<td>MerchantAccount</td>
<td>Integer</td>
<td>The &quot;MerchantAccount&quot; for the transaction</td>
</tr>
<tr>
<td>PaymentMethodId</td>
<td>String</td>
<td>Two letter code that identifies the payment method transaction type. Valid values: AC (Amex), BC (Bank Checking), BD (Bank Card Debit), BS (Bank Savings), DC (Discover Credit), DD (Discover Debit), EC (EBT Cash Benefit), EF (Food Stamps), FL (Fleet One), GF (Fuelman Fleet Wide), GG (General Gift), MC (Master Card Credit), MD (Master Card Debit), MF (Master Card Fleet), MP (Master Card Prepaid), NC (Diner’s Club), VC (Visa Credit), VD (Visa Debit), VF (Voyager), VP (Visa Prepaid), VS (Visa Fleet), WX (Wright Express)</td>
</tr>
<tr>
<td>ProcessorResponse</td>
<td>String</td>
<td>Description of the response provided by the account issuer</td>
</tr>
<tr>
<td>PurchaseOrderNumber</td>
<td>String</td>
<td>The client-provided Purchase Order Number</td>
</tr>
<tr>
<td>RemainingAmount</td>
<td>Implied Integer</td>
<td>The amount of the authorization that is remaining after partial refunds or voids have been applied</td>
</tr>
<tr>
<td>RequestedAmount</td>
<td>Implied Integer</td>
<td>The amount that was requested to be authorized when the transaction was processed</td>
</tr>
<tr>
<td>ResellerId</td>
<td>Integer</td>
<td>The gateway reseller ID for the transaction</td>
</tr>
<tr>
<td>ResponseCode</td>
<td>String</td>
<td>The 3-character <a href="#gateway-message-codes">Gateway Message code</a></td>
</tr>
<tr>
<td>SaleDateTime</td>
<td>DateTime</td>
<td>The date and time the transaction was processed</td>
</tr>
<tr>
<td>SettleAmount</td>
<td>Implied Integer</td>
<td>The amount of the transaction that was actually settled. This may be different than the requested or authorized amounts.</td>
</tr>
<tr>
<td>SettlementStatus</td>
<td>String</td>
<td>Identifies whether the transaction has been settled yet or not. Valid valuies: Settled, Unsettled</td>
</tr>
<tr>
<td>TerminalId</td>
<td>String</td>
<td>Reserved for Future Use</td>
</tr>
<tr>
<td>Token</td>
<td>String</td>
<td>The tokenized account number</td>
</tr>
<tr>
<td>TransactionId</td>
<td>Long Integer</td>
<td>The unique gateway ID for the transaction</td>
</tr>
<tr>
<td>TransactionIndustryType</td>
<td>String</td>
<td>A 2-3 character string that identifies what industry or SEC code the transaction was processed under. Valid values: RE (Retail), DM (Direct Marketing), EC (eCommerce), RS (Restaurant), LD (Lodging), PT (Petroleum), POP (Point Of Purchase), PPD (Prearranged Payment and Deposit), CCD (Corporate Credit or Debit), TEL (Telephone Initiated Entry), WEB (Internet Initiated Entry), C21 (Check 21)</td>
</tr>
<tr>
<td>TransactionSourceIP</td>
<td>String</td>
<td>The IP Address and Port where the transaction request originated</td>
</tr>
<tr>
<td>TransactionStatus</td>
<td>String</td>
<td>Identifies what state the transaction is in. Valid values: Open, Confirmed, or Voided.</td>
</tr>
<tr>
<td>TransactionType</td>
<td>String</td>
<td>Identifies the type of transaction that was requested. Valid values: Sale, Sale-Auth (authorization only), Credit, Void, Refund, Increment (incremental authorization).</td>
</tr>
<tr>
<td>VoidIndicator</td>
<td>Boolean</td>
<td>Indicates whether or not the transaction was voided before the batch was settled</td>
</tr>
</tbody></table>
<h3 id='operation-contract'>Operation Contract</h3>
<blockquote>
<p>This method returns a <code>TransactionSet</code> object as described above:</p>
</blockquote>
<pre class="highlight csharp"><code><span class="nf">PublicGetTransactionsByFilter</span><span class="p">(</span><span class="n">Credentials</span> <span class="n">credentials</span><span class="p">,</span> <span class="n">TransactionRowFilter</span> <span class="n">filterObject</span><span class="p">)</span>
</code></pre>
<p>At this time, the Reporting API provides only one operation contract for retrieving transactional data.</p>
<h3 id='reporting-tips'>Reporting Tips</h3>
<p>There are two types of parameters in the TransactionRowFilter object: DBQuery Filters and Post-Query Filters. </p>

<p>Most of the parameters in the filter are DBQuery filters that are used directly against the persisted data store that contains the transactional data. However, some of the filters are Post-Query filters, meaning the filters are not applied until after the persisted data is retrieved. Post-Query filters have transformational logic that is better suited after the bulk of the query has been processed by the data store.</p>

<p>Filters that are processed directly against the data store also have specific comparison modes that can be utilized for easier queries. Review the comparison modes listed in the <a href="#transactionrowfilter">TransactionRowFilter</a> table for a full list.</p>

<p><strong>Comparison Types</strong></p>

<ul>
<li>GTE = Greater Than or Equal. The query will look for data that is greater than or equal to the data provided in the filter parameter.</li>
<li>LTE = Less Than or Equal. The query will look for data that is less than or equal to the data provided in the filter parameter.</li>
<li>EQUIV = Equals. The query will look for data that exactly matches the data provided in the filter parameter.</li>
<li>CONTAINS = The query will look for data that contains the data provided in the filter parameter.</li>
<li>INLIST = The query will look for data where the stored data matches one of the comma-delimited entries in the data provided in the filter parameter.</li>
<li>N/A = The parameter is either a Boolean parameter or does not affect the data filtering process.</li>
</ul>

<p><strong>EXAMPLES</strong></p>

<ul>
<li><code>&lt;AmountRangeFrom&gt;100&lt;/AmountRangeFrom&gt;</code> Provides all transactions of $1.00 or more</li>
<li><code>&lt;AmountRangeTo&gt;200&lt;/AmountRangeTo&gt;</code> Provides all transactions of $2.00 or less</li>
<li><code>&lt;InoviceNumber&gt;2001&lt;/InvoiceNumber&gt;</code> Provides all transactions having Invoice Number 2001</li>
<li><code>&lt;ResponseCode&gt;D&lt;/ResponseCode&gt;</code> Provides all transactions that were declined.</li>
<li><code>&lt;ResponseCode&gt;D0&lt;/ResponseCode&gt;</code> Provides all transactions that were declined with <a href="#gateway-message-codes">Gateway Message</a> codes D01–D09</li>
<li><code>&lt;ResponseCode&gt;D01&lt;/ResponseCode&gt;</code> Provides only those transactions that were declined with <a href="#gateway-message-codes">Gateway Message</a> code D01.</li>
<li><code>&lt;TransResults&gt;00000,00001,10012&lt;/TransResults&gt;</code> Provides those transactions where the <a href="#gateway-result-codes">Gateway Result code</a> is equal to 00000, 00001, or 10012 only.</li>
<li><code>&lt;ExcludeTransResults&gt;1&lt;/ExcludeTransResults&gt;</code> must be used with <code>&lt;TransResults&gt;</code>. It modifies the behavior of the TransResults field. For example, if used with the TransResults field listed in the previous bullet, the Reporting API would return those transactions that did NOT get a 00000, 00001, or 10012 <a href="#gateway-result-codes">Gateway Result code</a>.</li>
</ul>

<p><strong>Post-Query Filters</strong></p>

<p>The following fields are Post-Query filters. They will not process until after the initial data store query has completed.</p>

<ul>
<li><code>TransactionStatus</code></li>
<li><code>CardBrand</code></li>
</ul>

<p>The data used to query on these parameters must be transformed before the filter can be applied. The data store resources are too time-consuming for these filters and they are therefore added after the data store query is completed. <strong><em>You should never use a Post-Query Filter without first limiting the data store query with some DBQuery filters such as a date range and/or the merchant account information.</em></strong></p>
<h1 id='response-codes'>Response Codes</h1><h2 id='avs-response-codes'>AVS Response Codes</h2>
<aside class="warning">
You should always inspect the AVSResult and CVResult fields as these can be good indicators of potential fraud. If you see a AVSResult or CVResult code that you do not want to accept because it may be too risky (such as "No Match" on the submitted Zip code), then you should submit a void transaction to cancel the authorization and advise the cardholder that their transaction has been declined.
</aside>

<table><thead>
<tr>
<th>Response Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>00</td>
<td>AVS Error - Retry, System unavailable or Timed out</td>
</tr>
<tr>
<td>40</td>
<td>Address not available (Address not verified)</td>
</tr>
<tr>
<td>43</td>
<td>Street address not available (not verified), ZIP matches</td>
</tr>
<tr>
<td>44</td>
<td>Address failed</td>
</tr>
<tr>
<td>45</td>
<td>Street address and ZIP don&#39;t match</td>
</tr>
<tr>
<td>46</td>
<td>Street address doesn&#39;t match, 5-digit ZIP matches</td>
</tr>
<tr>
<td>47</td>
<td>Street address doesn&#39;t match, 9-digit ZIP matches</td>
</tr>
<tr>
<td>4A</td>
<td>Street address or ZIP doesn&#39;t match</td>
</tr>
<tr>
<td>4D</td>
<td>Street address matches, ZIP does not</td>
</tr>
<tr>
<td>4E</td>
<td>Street address and 5-digit ZIP match</td>
</tr>
<tr>
<td>4F</td>
<td>Street address and ZIP match</td>
</tr>
<tr>
<td>53</td>
<td>Account holder name incorrect, billing postal code matches</td>
</tr>
<tr>
<td>55</td>
<td>Unrecognized response</td>
</tr>
<tr>
<td>5C</td>
<td>Account holder name incorrect, billing address matches</td>
</tr>
<tr>
<td>5F</td>
<td>Account holder name incorrect, billing address and postal code match</td>
</tr>
<tr>
<td>70</td>
<td>Account holder name matches</td>
</tr>
<tr>
<td>73</td>
<td>Account holder name and billing postal code match</td>
</tr>
<tr>
<td>7C</td>
<td>Account holder name and billing address match</td>
</tr>
<tr>
<td>7F</td>
<td>Account holder name, billing address and postal code match</td>
</tr>
<tr>
<td>80</td>
<td>AVS service not supported by issuer - Issuer doesn&#39;t participate in AVS</td>
</tr>
</tbody></table>
<h2 id='cvv-response-codes'>CVV Response Codes</h2>
<aside class="warning">
You should always inspect the AVSResult and CVResult fields as these can be good indicators of potential fraud. If you see a AVSResult or CVResult code that you do not want to accept because it may be too risky (such as "No Match" on the submitted Zip code), then you should submit a void transaction to cancel the authorization and advise the cardholder that their transaction has been declined.
</aside>

<table><thead>
<tr>
<th>Response Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>M</td>
<td>Matches</td>
</tr>
<tr>
<td>N</td>
<td>No match</td>
</tr>
<tr>
<td>P</td>
<td>Not processed</td>
</tr>
<tr>
<td>S</td>
<td>Should be present</td>
</tr>
<tr>
<td>U</td>
<td>Issuer is not certified</td>
</tr>
<tr>
<td>X</td>
<td>Unrecognized reason</td>
</tr>
</tbody></table>
<h2 id='gateway-message-codes'>Gateway Message Codes</h2>
<table><thead>
<tr>
<th>Gateway Message Code</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>A01</td>
<td>Approved: XXXXXX (approval code)</td>
</tr>
<tr>
<td>A02</td>
<td>Credit Posted</td>
</tr>
<tr>
<td>A03</td>
<td>Void Posted (Auth Reversed)</td>
</tr>
<tr>
<td>A04</td>
<td>No Update</td>
</tr>
<tr>
<td>A05</td>
<td>Partially Approved</td>
</tr>
<tr>
<td>A06</td>
<td>Void Posted (Auth Not Reversed)</td>
</tr>
<tr>
<td>A07</td>
<td>Partial Void Posted</td>
</tr>
<tr>
<td>A08</td>
<td>Partial Refund Posted</td>
</tr>
<tr>
<td>A09</td>
<td>Incremental Auth Posted</td>
</tr>
<tr>
<td>A10</td>
<td>Request Accepted</td>
</tr>
<tr>
<td>A11</td>
<td>Approval (Reversal failed)</td>
</tr>
<tr>
<td>A60</td>
<td>Terminal Offline Approval - EMV/Chip</td>
</tr>
<tr>
<td>A61</td>
<td>Terminal Offline Approval - Swipe</td>
</tr>
<tr>
<td>A62</td>
<td>Terminal Offline Approval - Credit</td>
</tr>
<tr>
<td>D01</td>
<td>Denied by customer&#39;s bank</td>
</tr>
<tr>
<td>D02</td>
<td>Invalid Expiration Date</td>
</tr>
<tr>
<td>D03</td>
<td>Insufficient funds</td>
</tr>
<tr>
<td>D04</td>
<td>Hold - Pick up card</td>
</tr>
<tr>
<td>D05</td>
<td>Invalid card number</td>
</tr>
<tr>
<td>D06</td>
<td>No account</td>
</tr>
<tr>
<td>D07</td>
<td>Incorrect PIN</td>
</tr>
<tr>
<td>D08</td>
<td>CSC is invalid</td>
</tr>
<tr>
<td>D09</td>
<td>Duplicate Transaction</td>
</tr>
<tr>
<td>D10</td>
<td>Card reported lost/stolen</td>
</tr>
<tr>
<td>D11</td>
<td>Card reported stolen</td>
</tr>
<tr>
<td>D12</td>
<td>Service not allowed</td>
</tr>
<tr>
<td>D13</td>
<td>Stop Recurring</td>
</tr>
<tr>
<td>D15</td>
<td>Maximum transaction limit is exceeded</td>
</tr>
<tr>
<td>D16</td>
<td>Card is expired</td>
</tr>
<tr>
<td>D17</td>
<td>Re-enter Transaction</td>
</tr>
<tr>
<td>D18</td>
<td>Bad Amount</td>
</tr>
<tr>
<td>D19</td>
<td>Unmapped decline</td>
</tr>
<tr>
<td>D20</td>
<td>Billing profile configuration error</td>
</tr>
<tr>
<td>D21</td>
<td>PIN try excdeed</td>
</tr>
<tr>
<td>D22</td>
<td>Refund was not processed/received</td>
</tr>
<tr>
<td>D24</td>
<td>Chargeback received</td>
</tr>
<tr>
<td>D25</td>
<td>Refund limit is reached for the day</td>
</tr>
<tr>
<td>D26</td>
<td>Settlement Failed</td>
</tr>
<tr>
<td>D27</td>
<td>Transaction Error</td>
</tr>
<tr>
<td>D28</td>
<td>Cashback limit exceeded/Cashback unavailable</td>
</tr>
<tr>
<td>D29</td>
<td>Card is restricted</td>
</tr>
<tr>
<td>D30</td>
<td>Call for Authorization</td>
</tr>
<tr>
<td>D31</td>
<td>Declined due to fraud rules</td>
</tr>
<tr>
<td>D32</td>
<td>Declined due to fraud engine decision</td>
</tr>
<tr>
<td>D33</td>
<td>Incorrect merchant setup</td>
</tr>
<tr>
<td>D34</td>
<td>Merchant profile configuration issue</td>
</tr>
<tr>
<td>D35</td>
<td>Card chip decline</td>
</tr>
<tr>
<td>E02</td>
<td>Processing Network Unavailable</td>
</tr>
<tr>
<td>E03</td>
<td>Transaction data integrity validation error</td>
</tr>
<tr>
<td>E04</td>
<td>Refund limit is reached for the day</td>
</tr>
<tr>
<td>E06</td>
<td>Card is blacklisted</td>
</tr>
<tr>
<td>E07</td>
<td>Tokenization is not supported</td>
</tr>
<tr>
<td>E08</td>
<td>Refunds are not allowed</td>
</tr>
<tr>
<td>E09</td>
<td>Processing Network Error</td>
</tr>
<tr>
<td>E10</td>
<td>3D Secure Verification Failed</td>
</tr>
<tr>
<td>E31</td>
<td>Declined due to pre-processing rules</td>
</tr>
<tr>
<td>X01</td>
<td>Processing Cancelled by User</td>
</tr>
<tr>
<td>X02</td>
<td>Pending processing</td>
</tr>
<tr>
<td>X03</td>
<td>3D Secure Verification Required</td>
</tr>
<tr>
<td>X04</td>
<td>Processing cancelled: the request has expired</td>
</tr>
</tbody></table>
<h2 id='gateway-result-codes'>Gateway Result Codes</h2>
<table><thead>
<tr>
<th>Result Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>000</td>
<td>Successful request</td>
</tr>
<tr>
<td>00001</td>
<td>Partial Authorization</td>
</tr>
<tr>
<td>10001</td>
<td>Missing Reference Number</td>
</tr>
<tr>
<td>10002</td>
<td>Invalid Card Number - Blank/Null</td>
</tr>
<tr>
<td>10003</td>
<td>Invalid Card Type - Doesn&#39;t match accepted card types</td>
</tr>
<tr>
<td>10004</td>
<td>Invalid Expiration Date - Blank/Null</td>
</tr>
<tr>
<td>10005</td>
<td>Invalid Security Code - Blank/Null</td>
</tr>
<tr>
<td>10007</td>
<td>Invalid Card Number - Not Numeric</td>
</tr>
<tr>
<td>10008</td>
<td>Invalid Length for card type</td>
</tr>
<tr>
<td>10009</td>
<td>Invalid Expiration Date - Card Expired</td>
</tr>
<tr>
<td>10010</td>
<td>Invalid Security Code - Not Numeric</td>
</tr>
<tr>
<td>10011</td>
<td>Invalid Transaction ID</td>
</tr>
<tr>
<td>10012</td>
<td>Invalid Card Number - Failed Mod10</td>
</tr>
<tr>
<td>10013</td>
<td>Invalid Expiration Date Value</td>
</tr>
<tr>
<td>10014</td>
<td>Invalid Security Code Length</td>
</tr>
<tr>
<td>10017</td>
<td>Invalid Expiration Date - Invalid Month</td>
</tr>
<tr>
<td>10018</td>
<td>Invalid Expiration Date - Invalid Year</td>
</tr>
<tr>
<td>10019</td>
<td>Invalid Expiration Date</td>
</tr>
<tr>
<td>10020</td>
<td>Invalid Client Identifier</td>
</tr>
<tr>
<td>10021</td>
<td>Invalid Request Element – Missing Element</td>
</tr>
<tr>
<td>10022</td>
<td>Invalid Request Type</td>
</tr>
<tr>
<td>10023</td>
<td>Password Expired</td>
</tr>
<tr>
<td>10024</td>
<td>Invalid Credentials</td>
</tr>
<tr>
<td>10025</td>
<td>Invalid Zip – Not Numeric</td>
</tr>
<tr>
<td>10026</td>
<td>Invalid Zip – Wrong Length</td>
</tr>
<tr>
<td>10027</td>
<td>Invalid Amount – Blank/Null</td>
</tr>
<tr>
<td>10028</td>
<td>Invalid Amount – Not Numeric</td>
</tr>
<tr>
<td>10029</td>
<td>Invalid Request Date/Time</td>
</tr>
<tr>
<td>10030</td>
<td>Invalid Token</td>
</tr>
<tr>
<td>10031</td>
<td>Invalid Track</td>
</tr>
<tr>
<td>10032</td>
<td>Invalid Track Identifier</td>
</tr>
<tr>
<td>10033</td>
<td>Invalid Void Request</td>
</tr>
<tr>
<td>10034</td>
<td>Invalid Encryption ID</td>
</tr>
<tr>
<td>10035</td>
<td>Invalid Account Number – Blank/Null</td>
</tr>
<tr>
<td>10036</td>
<td>Invalid Account Number – Not Numeric</td>
</tr>
<tr>
<td>10037</td>
<td>Invalid Payment Type – Blank/Null</td>
</tr>
<tr>
<td>10038</td>
<td>Invalid Payment Type – Unrecognized Payment Type</td>
</tr>
<tr>
<td>10039</td>
<td>Invalid Account Number – Account Number Does Not Exist</td>
</tr>
<tr>
<td>10040</td>
<td>Missing Required Pass-Thru Data Element</td>
</tr>
<tr>
<td>10041</td>
<td>Missing / Invalid BIN</td>
</tr>
<tr>
<td>10042</td>
<td>Already Voided</td>
</tr>
<tr>
<td>10050</td>
<td>Incorrect Trace Number</td>
</tr>
<tr>
<td>10051</td>
<td>Incorrect Merchant Setup</td>
</tr>
<tr>
<td>10052</td>
<td>Processing Network Error</td>
</tr>
<tr>
<td>10053</td>
<td>Credit Card Entry Refused by Receiver</td>
</tr>
<tr>
<td>10054</td>
<td>Mandatory Field Error</td>
</tr>
<tr>
<td>20001</td>
<td>Tokenization Service Connection Error</td>
</tr>
<tr>
<td>20002</td>
<td>Beyond Pay Internal Server Error</td>
</tr>
<tr>
<td>20003</td>
<td>Client Service Unavailable</td>
</tr>
<tr>
<td>20004</td>
<td>Payment Service Sensitive Data Timeout</td>
</tr>
<tr>
<td>30004</td>
<td>Invalid Request Message</td>
</tr>
<tr>
<td>30005</td>
<td>Invalid Response Message</td>
</tr>
<tr>
<td>30006</td>
<td>New Password Doesn&#39;t Match Confirmation Password</td>
</tr>
<tr>
<td>30007</td>
<td>New Password Too Weak</td>
</tr>
<tr>
<td>30008</td>
<td>Missing Payment Card Data</td>
</tr>
<tr>
<td>30009</td>
<td>Internal Payment Card Data Error</td>
</tr>
<tr>
<td>30010</td>
<td>Invalid Record Format</td>
</tr>
<tr>
<td>30011</td>
<td>Invalid Merchant Number (from Gateway)</td>
</tr>
<tr>
<td>30012</td>
<td>Bad Card Number (from Gateway)</td>
</tr>
<tr>
<td>30013</td>
<td>Invalid Store Number</td>
</tr>
<tr>
<td>30020</td>
<td>Invalid Transaction Industry Type</td>
</tr>
<tr>
<td>30021</td>
<td>Missing Transaction Industry Type</td>
</tr>
<tr>
<td>30022</td>
<td>Processing Network Unavailable</td>
</tr>
<tr>
<td>30023</td>
<td>Invalid Account Number</td>
</tr>
<tr>
<td>30024</td>
<td>No Account</td>
</tr>
<tr>
<td>30025</td>
<td>Invalid Security Code</td>
</tr>
<tr>
<td>30026</td>
<td>Invalid Amount</td>
</tr>
<tr>
<td>30027</td>
<td>Refund limit is reached for the day (occurs when merchant has reached the refund limit allowed per day on the account)</td>
</tr>
<tr>
<td>30028</td>
<td>Settlement Failed</td>
</tr>
<tr>
<td>30029</td>
<td>Transaction Error</td>
</tr>
<tr>
<td>30030</td>
<td>Transaction data integrity validation error</td>
</tr>
<tr>
<td>30032</td>
<td>Denied by customer’s bank</td>
</tr>
<tr>
<td>30033</td>
<td>Insufficient funds</td>
</tr>
<tr>
<td>30034</td>
<td>Hold - Pick up card</td>
</tr>
<tr>
<td>30035</td>
<td>Incorrect PIN</td>
</tr>
<tr>
<td>30036</td>
<td>Duplicate Transaction</td>
</tr>
<tr>
<td>30037</td>
<td>Card reported lost</td>
</tr>
<tr>
<td>30038</td>
<td>Card reported stolen</td>
</tr>
<tr>
<td>30039</td>
<td>Service not allowed</td>
</tr>
<tr>
<td>30040</td>
<td>Stop Recurring</td>
</tr>
<tr>
<td>30041</td>
<td>Unattempted Batch Decline</td>
</tr>
<tr>
<td>30042</td>
<td>Maximum transaction limit is exceeded at the moment. Try processing your transaction tomorrow.</td>
</tr>
<tr>
<td>30043</td>
<td>Re-enter Transaction</td>
</tr>
<tr>
<td>30044</td>
<td>Unmapped decline</td>
</tr>
<tr>
<td>30045</td>
<td>Billing profile configuration error</td>
</tr>
<tr>
<td>30046</td>
<td>Pin Try Exceeded</td>
</tr>
<tr>
<td>30047</td>
<td>Refund was not processed/received</td>
</tr>
<tr>
<td>30048</td>
<td>Chargeback received</td>
</tr>
<tr>
<td>30049</td>
<td>Processing Canceled by User</td>
</tr>
<tr>
<td>30050</td>
<td>Invalid Transaction Category</td>
</tr>
<tr>
<td>30051</td>
<td>Invalid Verification Status</td>
</tr>
<tr>
<td>30052</td>
<td>Invalid Terminal Type</td>
</tr>
<tr>
<td>30053</td>
<td>Invalid Petroleum Product Type</td>
</tr>
<tr>
<td>30060</td>
<td>Invalid IApp User Id</td>
</tr>
<tr>
<td>30061</td>
<td>Account insert failed</td>
</tr>
<tr>
<td>30062</td>
<td>Merchant insert failed</td>
</tr>
<tr>
<td>30070</td>
<td>New Password Previously Used</td>
</tr>
<tr>
<td>30071</td>
<td>Missing Clerk Id</td>
</tr>
<tr>
<td>30072</td>
<td>Call for Authorization</td>
</tr>
<tr>
<td>30073</td>
<td>Card is Restricted</td>
</tr>
<tr>
<td>30074</td>
<td>Declined due to fraud rules</td>
</tr>
<tr>
<td>30075</td>
<td>Bank Account Blacklisted</td>
</tr>
<tr>
<td>30076</td>
<td>Declined due to insufficient information</td>
</tr>
<tr>
<td>30077</td>
<td>Rejected by the processor</td>
</tr>
<tr>
<td>30078</td>
<td>Account Closed</td>
</tr>
<tr>
<td>30079</td>
<td>Invalid Account</td>
</tr>
<tr>
<td>30080</td>
<td>Account can not process ACH</td>
</tr>
<tr>
<td>30082</td>
<td>Invalid MICR</td>
</tr>
<tr>
<td>30083</td>
<td>Customer opt out check Conversion</td>
</tr>
<tr>
<td>30100</td>
<td>Invalid Account Data – Blank/Null</td>
</tr>
<tr>
<td>30101</td>
<td>Invalid EMV Tag Data – Blank/Null</td>
</tr>
<tr>
<td>40001</td>
<td>Lodging Reauth Failed</td>
</tr>
<tr>
<td>40002</td>
<td>Missing Lodging Folio Number</td>
</tr>
<tr>
<td>80000</td>
<td>Gateway Services Available</td>
</tr>
<tr>
<td>80001</td>
<td>Gateway Services Unavailable</td>
</tr>
<tr>
<td>80002</td>
<td>Invalid Purchase Token</td>
</tr>
<tr>
<td>80003</td>
<td>More than one result found for search criteria</td>
</tr>
<tr>
<td>80004</td>
<td>More than one service fee block received in request message</td>
</tr>
<tr>
<td>80005</td>
<td>Cascade Void. Indicates that the transaction was successfully authorized (fully or partially) and then voided due to an auto-void policy setting.  Only occurs on principal transactions and only when the accompanying service fee was either declined or voided due to an auto-void policy setting.</td>
</tr>
<tr>
<td>80006</td>
<td>Partial Auto Void. Indicates that the transaction was partially authorized and then voided due to an auto-void policy setting.  Can occur on a service fee or principal transaction.</td>
</tr>
<tr>
<td>80007</td>
<td>Database query processing error.  Can occur on a Find Transaction request if the data requested is unavailable.</td>
</tr>
<tr>
<td>80008</td>
<td>Invalid GatewayTransID</td>
</tr>
<tr>
<td>80009</td>
<td>Invalid MerchantCode</td>
</tr>
<tr>
<td>800010</td>
<td>Invalid MerchantAccountCode</td>
</tr>
<tr>
<td>800011</td>
<td>Transaction not found</td>
</tr>
<tr>
<td>800012</td>
<td>Invalid Length for PersistData</td>
</tr>
<tr>
<td>90000</td>
<td>Token Store failed to encrypt a token</td>
</tr>
<tr>
<td>90001</td>
<td>Token Store failed to decrypt a token</td>
</tr>
<tr>
<td>99999</td>
<td>Unknown Error</td>
</tr>
</tbody></table>
<h2 id='payguardian-response-codes'>PayGuardian Response Codes</h2>
<table><thead>
<tr>
<th>Response Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>Approved</td>
</tr>
<tr>
<td>1</td>
<td>Declined</td>
</tr>
<tr>
<td>2</td>
<td>Error</td>
</tr>
<tr>
<td>12</td>
<td>EMV Chip Declined</td>
</tr>
</tbody></table>
<h1 id='testing-amp-certification'>Testing &amp; Certification</h1><h2 id='certification'>Certification</h2>
<p>When you are finished developing your interface to one of the Beyond Pay solutions, please <a href='mailto:BeyondPayIntegrations@getBeyond.com'>contact us</a> to get certified and obtain your production keys!</p>
<h2 id='test-cards-and-checks'>Test Cards and Checks</h2>
<p>You can use the following card numbers for testing. CVV numbers are 1234 or 1111 for Amex; all others are 111 or 999.</p>

<table><thead>
<tr>
<th>Card Type</th>
<th>Card Brand</th>
<th>Card Number</th>
<th>Expiration Date</th>
</tr>
</thead><tbody>
<tr>
<td>Credit</td>
<td>Visa</td>
<td>4111111111111111</td>
<td>10/25</td>
</tr>
<tr>
<td>Credit</td>
<td>MasterCard</td>
<td>5499740000000057</td>
<td>10/25</td>
</tr>
<tr>
<td>Credit</td>
<td>Discover</td>
<td>6011000991001201</td>
<td>10/25</td>
</tr>
<tr>
<td>Credit</td>
<td>Amex</td>
<td>371449635392376</td>
<td>10/25</td>
</tr>
<tr>
<td>Debit</td>
<td>Visa</td>
<td>4217651111111119</td>
<td>10/25</td>
</tr>
<tr>
<td>Debit</td>
<td>MasterCard</td>
<td>5149612222222229</td>
<td>10/25</td>
</tr>
</tbody></table>

<p>The following information may be used for ACH / eCheck testing:</p>

<table><thead>
<tr>
<th>Bank Account Number</th>
<th>Routing Number</th>
<th>Account Type</th>
</tr>
</thead><tbody>
<tr>
<td>4099999992</td>
<td>021000021</td>
<td>Checking</td>
</tr>
</tbody></table>
<h2 id='trigger-amounts'>Trigger Amounts</h2>
<p>As part of your development and testing efforts, the amount ranges specified below can be used to trigger specific response codes from the server. These test ranges may be used with any valid card number.</p>
<h3 id='card-response-triggers'>Card Response Triggers</h3>
<table><thead>
<tr>
<th>Amount</th>
<th>Response Code</th>
<th>Response Message</th>
</tr>
</thead><tbody>
<tr>
<td>0.01 - 0.99</td>
<td>D01</td>
<td>Denied by customer&#39;s bank (Do Not Honor)</td>
</tr>
<tr>
<td>1.00</td>
<td>A01</td>
<td>Approved</td>
</tr>
<tr>
<td>1.01 - 4.98</td>
<td>D01</td>
<td>Denied by customer&#39;s bank (Do Not Honor)</td>
</tr>
<tr>
<td>4.99</td>
<td>20002</td>
<td>Internal ServerError</td>
</tr>
<tr>
<td>5.00 - 69.99</td>
<td>A01</td>
<td>Approved</td>
</tr>
<tr>
<td>70.00 - 79.99</td>
<td>D05</td>
<td>Invalid card number</td>
</tr>
<tr>
<td>80.00 - 89.99</td>
<td>D10</td>
<td>Card reported lost/stolen</td>
</tr>
<tr>
<td>90.00 - 99.99</td>
<td>D30</td>
<td>Call for authorization</td>
</tr>
<tr>
<td>100.00 - 109.99</td>
<td>D04</td>
<td>Pick up card</td>
</tr>
<tr>
<td>110.00 - 119.99</td>
<td>D08</td>
<td>Invalid security code</td>
</tr>
<tr>
<td>120.00 - 129.99</td>
<td>D03</td>
<td>Insufficient funds</td>
</tr>
<tr>
<td>130.00 - 139.99</td>
<td>E02</td>
<td>Processing network unavailable</td>
</tr>
<tr>
<td>140.00 - 149.99</td>
<td>E09</td>
<td>Internal ServerError</td>
</tr>
<tr>
<td>150.00 - 159.99</td>
<td>A05</td>
<td>Partially approved [approved amount will be $10 less than the requested amount]</td>
</tr>
<tr>
<td>170.00 - 181.99</td>
<td>A01</td>
<td>Approved</td>
</tr>
<tr>
<td>182.00 - 1999.99</td>
<td>D01</td>
<td>Denied by customer&#39;s bank (Do Not Honor)</td>
</tr>
</tbody></table>
<h3 id='ach-echeck-response-triggers'>ACH/eCheck Response Triggers</h3>
<table><thead>
<tr>
<th>Amount</th>
<th>Response Code</th>
<th>Response Message</th>
</tr>
</thead><tbody>
<tr>
<td>170.00 - 171.99</td>
<td>C01</td>
<td>Customer&#39;s account number is incorrect</td>
</tr>
<tr>
<td>172.00 - 173.99</td>
<td>C02</td>
<td>Customer&#39;s routing number is incorrect</td>
</tr>
<tr>
<td>174.00 - 175.99</td>
<td>C03</td>
<td>Customer&#39;s routing number and DFI account numbers are incorrect</td>
</tr>
<tr>
<td>176.00 - 177.99</td>
<td>C04</td>
<td>Customer&#39;s name is incorrect</td>
</tr>
<tr>
<td>178.00 - 179.00</td>
<td>C05</td>
<td>Customer&#39;s account type (Savings/Checking) is incorrect</td>
</tr>
<tr>
<td>180.00 - 181.99</td>
<td>C06</td>
<td>Account number is incorrect and transaction is being routed to the wrong type of account</td>
</tr>
</tbody></table>
<h3 id='avs-response-triggers'>AVS Response Triggers</h3>
<table><thead>
<tr>
<th>ZIP Code</th>
<th>AVS Response Code</th>
<th>AVS Response Message</th>
</tr>
</thead><tbody>
<tr>
<td>11111</td>
<td>00</td>
<td>AVS Error - Retry, System unavailable, or Timed out</td>
</tr>
<tr>
<td>22222</td>
<td>46</td>
<td>Street address doesn&#39;t match, 5-digit ZIP matches</td>
</tr>
<tr>
<td>33333</td>
<td>43</td>
<td>Street address not available (not verified), ZIP matches</td>
</tr>
<tr>
<td>44444</td>
<td>40</td>
<td>Address failed</td>
</tr>
<tr>
<td>55555</td>
<td>4F</td>
<td>Street address and ZIP match</td>
</tr>
</tbody></table>
<h3 id='refund-quot-blind-credit-quot-response-triggers'>Refund (&quot;Blind Credit&quot;) Response Triggers</h3>
<table><thead>
<tr>
<th>Amount</th>
<th>Response Code</th>
<th>Response Message</th>
</tr>
</thead><tbody>
<tr>
<td>0.01 - 4.99</td>
<td>D01</td>
<td>Denied by customer&#39;s bank (Do Not Honor)</td>
</tr>
<tr>
<td>5.00 - 69.99</td>
<td>A02</td>
<td>Credit Posted</td>
</tr>
<tr>
<td>70.00+</td>
<td>D01</td>
<td>Denied by customer&#39;s bank (Do Not Honor)</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
